!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zChat=t():e.zChat=t()}(this,function(){return function(n){function i(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var o={};return i.c=o,i(0)}([function(n,e,i){(function(e){var t;n.exports=(t=i(2),n.exports=t,e(t,"web_sdk"),t)}).call(e,i(1))},function(e,t){e.exports=function(e,t){"function"==typeof e&&e.prototype&&!e.__jx__no_fqname&&(e.prototype.__jx__fqname_chain=(e.prototype.__jx__fqname_chain||"")+" "+t,e.prototype.__jx__fqname=t)}},function(de,e,fe){(function(he){de.exports=function(){function s(){return oe(E.$("livechat").$("profile").getValue())}function t(e){if(!g([Y.type("number")],[e],"getDepartment()"))return a(e)}function a(e){var t=E.$("livechat").$("departments").$(e).getValue();if(t)return re(t,e)}function n(e,t,n,i){if(!g([Y.type("string").regex(Q).regex(/[^,]/),ee],[t,i],n)){i=i||X;var o={};o[e]=t.trim(),$.$("livechat").$("channel").$("tags").write(o,w(i))}}function c(e){return se(E.$("livechat").$("agents").$(e).getValue(),e)}function u(e){if(!e.type$string)return null;if(!e.nick$string)return null;var t,n={nick:(t=e.nick$string,0===t.indexOf("visitor:")?"visitor":t),type:e.type$string},i=e.msg$string;switch(e.type$string){case"chat.msg":if(F.file_upload.test(i)){if(!0===e.unverified$bool)return null;var o=/uploaded: (.+)\nURL: (.+)\nType: (.+)\nSize: (.+)(\nThumb: (.+))?/i.exec(i);if(!o)return null;var r={mime_type:o[3],name:o[1],size:parseInt(o[4],10),url:o[2]};return L.extend(n,{type:"chat.file",display_name:e.display_name$string,attachment:r})}return L.extend(n,{display_name:e.display_name$string,msg:i,options:e.options$string?e.options$string.split("/"):[]});case"chat.rating":return L.extend(n,{display_name:e.display_name$string,new_rating:e.new_rating$string,rating:e.rating$string});case"chat.comment":return L.extend(n,{display_name:e.display_name$string,comment:e.comment$string,new_comment:e.new_comment$string});case"chat.memberjoin":case"chat.memberleave":case"chat.request.rating":return L.extend(n,{display_name:e.display_name$string});case"chat.event":var s;return"agent:system"===e.nick$string&&(s=/Please wait while our agents attend to you. There are currently (\d+) visitor\(s\) waiting to be served\./.exec(i))?{type:"chat.wait_queue",nick:"system.queue",wait_queue:parseInt(s[1],10)}:null;case"chat.join":var a=e.history;if(a&&a[0]){var c=L.extend({},a[0]),l=c.timestamp$int;return c.type$string=c.__type$string,c.display_name$string=c.name$string,l*=1e3,c.timestamp$int=l,u(c)}return null;case"chat.file.update":default:return null}}function e(a,c,l){return function(e,t){if(null===e)return{};for(var n={},i=0,o=a.length;i<o;i++){var r=a[i];r in e&&(n[_(r)]=e[r])}if(T(c)&&Object.keys(n).length&&(n[c]=t),D(l)){var s=l(e,t);return null===s?{}:L.extend(n,s)}return n}}function l(t,e,n){E.descend(e).bindValue(function(e){n(e).forEach(function(e){i(t,e)})})}function i(e,t){if(t){if(t instanceof Error){if(!t.message)return}else if("object"==typeof t&&!Object.keys(t).length)return;H.fire("data",{type:e,detail:t})}}function h(e){return["number"!=typeof e?null:{type:"chat.queue_position",nick:"system.queue",queue_position:e}]}function d(t){return function(e){return void 0===e?[null]:[t[e]||null]}}function f(t){return function(e){return o(e,t)}}function o(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(t(e[i],i));return n}function p(o,r){return function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];o.some(function(e){return i&&e in i})&&t.push(r(n))}return t}}function _(e){return e.split("$")[0]}function m(e,t){t=t?t+": ":"",e=new Error("Zendesk Chat Web SDK: Error: "+t+e.message),k||window.console&&window.console.error&&console.error(e.message),i("error",e)}function g(e,t,n){for(var i=0;i<e.length;i++){var o=(0,e[i])(t[i]);if(o)return m(o,n),!0}return!1}function r(e){if("[object File]"!==Object.prototype.toString.call(e))return new Error("Expect a File object")}function v(e){if(!t(e))return new Error("Expect a valid department id")}function w(n){return function(e){var t="ok"===e.raw.__status?null:new window.Error("Failed");n(t)}}function b(e){if(e.length<=1)return e;var n,i,o,t=[];return e.forEach(function(e){t[e.start]=void 0!==t[e.start]?t[e.start]+1:1,t[e.end]=void 0!==t[e.end]?t[e.end]-1:-1}),i=[],o=0,t.forEach(function(e,t){0<e&&!n&&(n=t),e&&0===(o+=e)&&(i.push({start:n,end:t}),n=void 0)}),i}var y,$,E,x,S,k,O=fe(3),A=fe(4),I=fe(10),C=fe(9),T=fe(11),D=fe(8),L=fe(12),N=fe(13),R=fe(14),P=fe(15),M=fe(61),U=fe(47),j=fe(62),V=fe(23),F=fe(59),z=fe(16),B=fe(46),q=fe(63),G=fe(33),W=A.extend({init:function(e){var t,n,i;if($||E)m(new Error("Zendesk Chat Web SDK has already been initialized. Please ensure that zChat.init() is only called once in your code"));else if(!g([Y.obj({account_key:Y.type("string").ok(),suppress_console_error:Y.type("boolean"),override_proxy:Y.type("string").ok()},{requiredKeys:["account_key"]})],[e],"init()")){var o=new N("root"),r=new N("root");G()&&o.$("livechat").$("ui").$("mobile$bool").update(!0),t=e,y=P,$=o,E=r,q.init($,E),l("connection_update","tmp.friendly_connection_status$string",ne),l("account_status","livechat.account.status$string",d(te)),l("visitor_update","livechat.profile",(n=["email$string","phone$string","display_name$string"],i=s,function(t){return n.some(function(e){return t&&e in t})?[i()]:[null]})),l("department_update","livechat.departments",p(["name$string","status$string"],a)),l("agent_update","livechat.agents",p(["avatar_path$string","display_name$string","title$string"],c)),l("chat","livechat.channel.log",f(le)),l("chat","livechat.agents",f(ae)),l("chat","livechat.triggers.agents",f(ce)),l("chat","livechat.channel.queue_position$int",h),x=function(e){W.fire(e.type,e.detail)},H.on("data",x),S=function(e){var t=e.path?E.descend(e.path):E;t.update(e.update)},y.on("message",S),R.ACCOUNT_KEY=t.account_key,k=t.suppress_console_error||!1,z.init(),y.init({root:$,overrideProxy:t.override_proxy,isCookieDenied:function(){return!1},source:K,lastHost:z.DOM.getVariable("web_sdk_last_host"),source_ver:O.release_tag}),$.$("connection").$("server$string").bindValue(function(e){e&&z.DOM.saveVariable("web_sdk_last_host",e)}),U.init($,y),M.init($)}},reconnect:function(){y.reconnect()},getFirehose:function(){return H},setVisitorInfo:function(e,t){if(!g([Y.obj({display_name:Y.any([Y.equal(""),Y.type("string").regex(Q)]),email:Y.any([Y.equal(""),Y.type("string").regex(F.email)]),phone:Y.any([Y.equal(""),Y.type("string").regex(J)])}),ee],[e,t],"setVisitorInfo()")){var n={};t=t||X,"display_name"in e&&(n.display_name$string=e.display_name),"email"in e&&(n.email$string=e.email),"phone"in e&&(n.phone$string=e.phone),$.$("livechat").$("profile").write(n,w(t))}},getVisitorInfo:s,setVisitorDefaultDepartment:function(e,t){g([Y.type("number").chain(v),ee],[e,t],"setVisitorDefaultDepartment()")||(t=t||X,$.$("livechat").$("profile").write({department_id$int:e},w(t)))},getVisitorDefaultDepartment:function(){var e=E.$("livechat").$("profile").$("department_id$int").getValue();return I(e)?e:void 0},getAllDepartments:function(){return o(E.$("livechat").$("departments").getValue(),re)},getDepartment:t,clearVisitorDefaultDepartment:function(e){g([ee],[e],"clearVisitorDefaultDepartment()")||(e=e||X,$.$("livechat").$("profile").write({department_id$int:null},w(e)))},addTag:function(e,t){n("added$string",e,"addTag()",t)},removeTag:function(e,t){n("removed$string",e,"removeTag()",t)},sendChatMsg:function(e,t){g([Y.type("string").regex(Q),ee],[e,t],"sendChatMsg()")||(t=t||X,U.sendChatMsg({msg:e.trim()},null,w(t)))},sendFile:function(e,t){var n,i;g([Y.chain(r),ee],[e,t],"sendFile()")||(n=e,i=(i=t)||X,P.reconnectIfServerRetired(function(){U.sendFileWithCallback(n,i)}))},sendVisitorPath:function(e,t){g([Y.obj({title:Y.type("string").regex(Q),url:Y.type("string").regex(Z)},{requiredKeys:["title","url"]}),ee],[e,t],"sendVisitorPath()")||(t=t||X,$.$("livechat").$("session").$("page_path").write({url$string:e.url,title$string:e.title},w(t)))},sendChatComment:function(e,t){g([Y.type("string"),ee],[e,t],"sendChatComment()")||(t=t||X,$.$("livechat").$("channel").write({comment$string:e},w(t)))},sendChatRating:function(e,t){g([Y.any([Y.equal(null),Y.equal("good"),Y.equal("bad")]),ee],[e,t],"sendChatRating()")||(t=t||X,$.$("livechat").$("channel").write({rating$string:e},w(t)))},getChatInfo:function(){var e=E.$("livechat").$("channel").$("rating$string").getValue(),t=E.$("livechat").$("channel").$("comment$string").getValue(),n={};return C(e)||(n.rating=e),C(t)||(n.comment=t),n},endChat:function(e){var t=$.$("livechat").$("channel");g([ee],[e],"endChat()")||(e=e||X,t.write({chatting$bool:!1},w(e)))},isChatting:function(){return E.$("livechat").$("channel").$("chatting$bool").getValue()||!1},getServingAgentsInfo:function(){return o(E.$("livechat").$("agents").getValue(),se)},sendOfflineMsg:function(e,t){if(!g([Y.obj({name:Y.type("string").regex(Q),email:Y.type("string").regex(F.email),message:Y.type("string").regex(Q)},{requiredKeys:["name","email","message"]}),ee],[e,t],"sendOfflineMsg()")){t=t||X;var n={name:{name$string:"name",value$string:e.name},email:{name$string:"email",value$string:e.email},message:{name$string:"message",value$string:e.message}};"department"in e&&(n.department={name$string:"department_id",value$string:e.department}),$.$("livechat").$("settings").$("forms").$("offline_form").$("form_submitted").write(n,w(t))}},sendTyping:function(e,t){g([Y.type("boolean"),ee],[e,t],"sendTyping()")||(t=t||X,$.$("livechat").$("channel").$("typing").write({typing$bool:e},w(t)))},sendEmailTranscript:function(e,t){g([Y.type("string").regex(F.email),ee],[e,t],"sendEmailTranscript()")||(t=t||X,$.$("livechat").$("channel").write({email_transcript$string:e},w(t)))},getChatLog:function(){var e,t,n,i=["type$string","timestamp$int"],o=E.$("livechat").$("channel").$("log").getValue(),r=[];for(var s in o)if(o.hasOwnProperty(s)){if(o[s].type$string)e=o[s];else if("chat.msg"===(e=$.$("livechat").$("channel").$("log").$(s).getValue()).type$string&&(!0===e.unverified$bool||!0===e.failed$bool))continue;var a=u(e);if(null===a)continue;for(var c=0;c<i.length;c++)(n=_(t=i[c]))in a||(a[n]=e[t]);r.push(a)}return r},getConnectionStatus:function(){var e=E.$("tmp").$("friendly_connection_status$string").getValue();return ne(e)[0]},getAccountStatus:function(){var e=E.$("livechat").$("account").$("status$string").getValue();return ie(e)[0]},getOperatingHours:function(){var e,t,i,o,r,s,n=E.$("livechat"),a=n.$("settings"),c=a.$("operating_hours");if(a.hasKey("operating_hours")){var l=c.$("type$string").getValue(),u={enabled:c.$("enabled$bool").getValue(),type:l,timezone:a.$("timezone$string").getValue()||"UTC"};return"account"==l?u.account_schedule=function(e){for(var t,n,i={},o=0;o<7;o++){var r=e[o]||{};if(r.enabled$bool){for(var s in t=[],n=r.periods)n.hasOwnProperty(s)&&t.push({start:n[s].start$int,end:n[s].end$int});i[o]=b(t)}else i[o]=[]}return i}(c.$("schedule").getValue()||{}):"department"==l&&(u.department_schedule=(e=c.$("schedules").getValue(),t=n.$("departments").getKeys(),o={},r=function(e){var t,n,i={};for(var o in e)if(e.hasOwnProperty(o)){if((n=e[o]).hasOwnProperty("deleted_ts$int"))continue;if(!n.departments)continue;if(!n.enabled$bool)continue;t={};for(var r=0;r<7;r++){var s=n[r],a=[];if(s.enabled$bool&&s.periods){var c=s.periods;for(var l in c)c.hasOwnProperty(l)&&a.push({start:c[l].start$int,end:c[l].end$int});a.length&&(t[r]=a)}}Object.keys(t).length&&(i[o]=t)}return i}(e),s=function(e,t){var n,i={};for(var o in t.forEach(function(e){i[e]=[]}),e)if(e.hasOwnProperty(o))for(var r in(n=e[o]).departments)if(n.departments.hasOwnProperty(r)){if(!n.departments[r])continue;var s=_(r);if(!i[s])continue;i[s].push(o)}return i}(e,t),t.forEach(function(n){var e=s[n];for(o[n]={},i=0;i<7;i++)o[n][i]=[];for(e.forEach(function(e){for(var t in r[e])r[e].hasOwnProperty(t)&&Array.prototype.push.apply(o[n][t],r[e][t])}),i=0;i<7;i++){var t=o[n][i];1<t.length&&(o[n][i]=b(t))}}),o)),u}},getQueuePosition:function(){return E.$("livechat").$("channel").$("queue_position$int").getValue()||0},_getAccountSettings:function(){var e=E.$("livechat").$("settings").getValue(),t=L.clone(B.livechat.settings),n=V.fullyExtend(t,e);return function e(t){if(!t||"object"!=typeof t)return t;var n={};for(var i in t)if(t.hasOwnProperty(i)){var o=_(i),r=e(t[i]);n[o]=r}return n}(ue(n))},_getAuthLoginUrl:function(e){return V.getAuthLoginUrl(e,R.ACCOUNT_KEY,z.getIdentity())},_doAuthLogout:function(e){e=e||X,$.$("livechat").$("profile").$("auth").write({type$string:null},w(e))}}),H=A.extend({}),K="web_sdk",X=function(){},Y=j,J=/[0-9]+/,Z=/^(https?|ftps?):\/\//i,Q=/\S/,ee=Y.any([Y.equal(void 0),Y.type("function")]),te={online:"online",offline:"offline",away:"away",invalid_account_key:null,banned:null},ne=d({connected:"connected",connecting:"connecting",closed:"closed"}),ie=d(te),oe=e(["email$string","phone$string","display_name$string"]),re=e(["name$string","status$string"],"id",function(e,t){return{id:parseInt(t,10)}}),se=e(["avatar_path$string","display_name$string","title$string"],"nick"),ae=e(["typing$bool"],"nick",function(e){return e.hasOwnProperty("typing$bool")?{type:"typing"}:null}),ce=e(["typing$bool"],"display_name",function(e){return e.hasOwnProperty("typing$bool")?{type:"typing",nick:"agent:trigger"}:null}),le=e(["timestamp$int"],null,u),ue=e(["banner","behavior","bubble","chat_button","chat_window","concierge","file_sending","forms","greetings","language","login","rating","sound","theme","timezone$string"]);return de.exports=W,he(W,"meshim_widget_controllers_WebSDKAPI"),W}()}).call(e,fe(1))},function(e,t){e.exports={build_number:"20180130.041799",git_commit:"db1e0875a3b728fecd502a14669441737ca2089d",release_tag:"1.3.0"}},function(a,e,c){(function(s){a.exports=function(){function e(s,e){var a={},c={},l=function(e){return!s.nodeType&&s!=window&&s!=document||("FORM"!=s.tagName||"submit"!=e)&&!h.isCustomEvents&&(h.isFF&&h.isFF<9?!document.createEvent("event")[e.toUpperCase()]:void 0===s["on"+e])},i=function(r){r in c||(c[r]=function(e){e&&(e.stopPropagation||u(e));var t,n=a[r],i=n.length,o=!0;for(n._active=!0,t=0;t<i;t++)try{if(!n[t])continue;!1===n[t].call(s,h.isCustomEvents&&e instanceof h.CustomEvent?e.detail:e)&&(o=!1)}catch(e){d.fire("error",e)}if(n._active=!1,n._dirty){for(t=0;t<i;t++)n[t]||(t==i-1?n.pop():n[t--]=n.pop(),i--);n._dirty=!1}if(!1===o)return e&&(e.preventDefault(),e.returnValue=!1),!1},s.attachEvent?s.attachEvent("on"+r,c[r]):s.addEventListener&&s.addEventListener(r,c[r],!1))},r=function(e){var t=c[e];t&&(s.attachEvent?s.detachEvent("on"+e,t):s.addEventListener&&s.removeEventListener(e,t,!1),delete c[e],delete a[e])},u=function(e){e.preventDefault=u.preventDefault,e.stopPropagation=u.stopPropagation,e.target=e.srcElement};u.preventDefault=function(){this.returnValue=!1},u.stopPropagation=function(){this.cancelBubble=!0};var t={fire:function(e,t){if(!h.isCustomEvents||l(e)){var n=a[e],i=!0;if(n&&n.length){var o,r;for(n._active=!0,o=0,r=n.length;o<r;o++)try{if(!n[o])continue;!1===n[o].call(s,t)&&(i=!1)}catch(e){d.fire("error",e)}if(n._active=!1,n._dirty){for(o=0;o<r;o++)n[o]||(o==r-1?n.pop():n[o--]=n.pop(),r--);n._dirty=!1}}return i}return s.dispatchEvent(new h.CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t}))},on:function(e,t,n){if(!e&&"function"!=typeof t)throw"bad arguments to on / addEventListener";return e in a||(a[e]=[],l(e)||i(e)),a[e].push(t),s},un:function(e,t){var n=a[e];if(n){for(var i=0,o=n.length;i<o;i++)if(n[i]===t){1==n.length?c[e]?r(e):delete a[e]:n._active?(n[i]=null,n._dirty=!0):i==o-1?n.pop():n[i]=n.pop();break}return s}},unextendEvents:function(){if(a&&c){for(var e in c)c.hasOwnProperty(e)&&r(e);a=c=null}}};if(e)return t;for(var n in t)t.hasOwnProperty(n)&&(s[n]=t[n]);return h.bugs.leaksMemory&&h.bugs.leaksMemory(function(){for(var e in t)t.hasOwnProperty(e)&&(s[e]=null)}),s}function t(e,t){e<=o?t():r[e].push(t)}function n(e){for(;o<e;){o++;for(var t=0;t<r[o].length;t++)r[o][t]();r[o]=null}}function i(){n(2)}var h=c(5),d={extend:e,body:e(document.body,!0),window:e(window,!0),document:e(document,!0),runAfterScriptReady:function(e){t(0,e)},runAfterFirstChildReady:function(e){t(1,e)},runAfterDomReady:function(e){t(2,e)}};d.extend(d);var o=0,r=[[],[],[],[]];return function e(){0<o||(document.body&&document.body.firstChild?n(1):window.setTimeout(e,200))}(),function(){var e;if(h.isSafari)e=window.setInterval(function(){/loaded|complete/i.test(document.readyState)&&(window.clearInterval(e),i())},20);else if(document.addEventListener)/loaded|complete/i.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i,!1);else if(h.isIE){window.attachEvent("onload",i);var t=document.createElement("document:ready");e=window.setInterval(function(){if(/loaded|complete/i.test(document.readyState))t=null,window.clearInterval(e),i();else{try{t.doScroll("left")}catch(e){return}t=null,window.clearInterval(e),i()}},200)}}(),a.exports=d,s(d,"jx_core_Events"),d}()}).call(e,c(1))},function(module,exports,__webpack_require__){(function($jxml_extends){module.exports=function(){function sniffBrowser(){function secureURL(e){return e.replace(/^http:/,isSecure?"https:":"http:")}function getWindowClientHeight(){if(void 0!==window.innerHeight)return window.innerHeight;if(document.documentElement)return document.documentElement.offsetHeight;var e=document.getElementsByTagName("body");return e.length?e[0].clientHeight:0}function getWindowClientWidth(){if(void 0!==window.innerWidth)return window.innerWidth;if(document.documentElement)return document.documentElement.offsetWidth;var e=document.getElementsByTagName("body");return e.length?e[0].clientWidth:0}function getFlashVersion(){var e,t=nav.plugins&&nav.plugins[FLASH];if(t)return(e=nav.mimeTypes&&nav.mimeTypes[FLASH_MIME_TYPE])&&!e.enabledPlugin?null:t.description;if(window.ActiveXObject)try{return(t=new window.ActiveXObject(FLASH_AX)).AllowScriptAccess="always",t.GetVariable("$version")}catch(e){}}function getJavaVersion(){var e=nav.mimeTypes;return isIE?!isWP7&&"javaEnabled"in nav&&nav.javaEnabled():e&&(e=e[JAVA_MIME_TYPE])&&(e=e.enabledPlugin)?e.name:void 0}function getScrollbarSize(){if(!isUndefined(scrollbar_size))return scrollbar_size;var e=document.createElement("div"),t=document.createElement("div"),n=e.style,i=t.style;return n.overflow="auto",n.width=n.height="100px",n.position="absolute",n.top="-1000px",i.width="100%",i.height="200px",e.appendChild(t),document.body.appendChild(e),scrollbar_size=e.offsetWidth-e.clientWidth,document.body.removeChild(e),scrollbar_size}function detectCSP(){try{return eval("false")}catch(e){return!0}}function checkIE(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:document.documentMode}var nav=navigator,ua=nav.userAgent.toLowerCase(),isNewIE=+(/trident.*rv:? *([0-9]+)/.exec(ua)||[])[1]||!1,isIE=checkIE(),isIE8=8===isIE,isIE7=7===isIE,isIE6=6===isIE,isOpera=!!window.opera&&"[object Opera]"===Object.prototype.toString.call(window.opera),isEdge=-1<ua.indexOf("edge"),isChrome="Google Inc."===nav.vendor,isSafari="Apple Computer, Inc."===nav.vendor,isWebKit=!isEdge&&!isIE&&!isOpera&&(isChrome||isSafari||/webkit|khtml/.test(ua)),isFF=+/\d+/.exec(/firefox\/\d+/i.exec(nav.userAgent)||""),isIPhone=-1!==ua.indexOf("iphone"),isIPod=-1!==ua.indexOf("ipod"),isIPad=-1!==ua.indexOf("ipad"),isIOS=isIPhone||isIPad||isIPod,isAndroid=-1!==ua.indexOf("android"),isWP7=-1!==ua.indexOf("wp7"),isMobile=isIOS||isAndroid||isWP7,scrollbar_size,browser=(isIE?"msie":isFF&&"firefox")||isOpera&&"opera"||isChrome&&"chrome"||isSafari&&"safari",version,isStrict="CSS1Compat"===document.compatMode,isQuirks=!isStrict,isIE5Quirks=isIE&&isQuirks&&document.documentElement&&!!document.documentElement.style.setExpression,engineIE=document.documentMode||isIE,isWindows=-1!==ua.indexOf("windows")||-1!==ua.indexOf("win32"),isMac=-1!==ua.indexOf("macintosh")||-1!==ua.indexOf("mac os x"),isSecure="https:"===document.location.protocol,language=nav.language||nav.browserLanguage||nav.userLanguage||nav.systemLanguage,bugs={noBoxSizing:engineIE<=7,ie:{cssBottomRight:isIE6,cssFixed:isIE6||isIE5Quirks,buggyCSS:isIE6||isIE5Quirks}},isTextContent="textContent"in document.createElement("div"),isCustomEvents=!1,CustomEvent=null;try{window.CustomEvent&&/\[native code\]|\[object CustomEventConstructor\]/.test(window.CustomEvent.toString())&&(new window.CustomEvent("testevent",{bubbles:!1,cancelable:!0,detail:!0}),isCustomEvents=!0,CustomEvent=window.CustomEvent)}catch(e){}switch(browser){case"msie":case"firefox":case"chrome":version=+/\d+/.exec(new RegExp(browser+"[ /]\\d+").exec(ua)||"");break;default:version=+/\d+/.exec(/version[ \/]\d+/.exec(ua)||"")}if(isIE6){var cleanupCallbacks=[];bugs.leaksMemory=function(e){Assert.isFunction(e),cleanupCallbacks.push(e)};var cleanup=function(){for(var e=0;e<cleanupCallbacks.length;e++)cleanupCallbacks[e]()};bugs.leaksMemory.remove=function(e){for(var t=cleanupCallbacks.length-1;0<=t;t--)e==cleanupCallbacks[t]&&cleanupCallbacks.splice(t,1)},window.attachEvent("onunload",cleanup)}var FLASH="Shockwave Flash",FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",JAVA_MIME_TYPE="application/x-java-vm";return{browser:browser,version:version,isStrict:isStrict,isQuirks:isQuirks,isOpera:isOpera,isSafari:isSafari,isWebKit:isWebKit,isChrome:isChrome,isAndroid:isAndroid,isIPhone:isIPhone,isIPod:isIPod,isIPad:isIPad,isIOS:isIOS,isWP7:isWP7,isMobile:isMobile,isNewIE:isNewIE,isEdge:isEdge,isIE:isIE,isIE6:isIE6,isIE7:isIE7,isIE8:isIE8,isFF:isFF,isCustomEvents:isCustomEvents,CustomEvent:CustomEvent,engineIE:engineIE,bugs:bugs,isWindows:isWindows,isMac:isMac,isSecure:isSecure,secureURL:secureURL,hasFlash:getFlashVersion(),hasJava:getJavaVersion(),language:language,getScrollbarSize:getScrollbarSize,getWindowClientHeight:getWindowClientHeight,getWindowClientWidth:getWindowClientWidth,isTextContent:isTextContent,hasCSP:detectCSP()}}var indexOf=__webpack_require__(6),Assert=__webpack_require__(7),isFunction=__webpack_require__(8),isUndefined=__webpack_require__(9),Browser=sniffBrowser();return{_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._TEST&&(Browser.sniffBrowser=sniffBrowser),module.exports=Browser,$jxml_extends(Browser,"jx_core_Browser"),Browser}()}).call(exports,__webpack_require__(1))},function(n,e,t){(function(t){n.exports=function(){function e(e,t,n){return i.call(t,e,n)}var i=Array.prototype.indexOf;return"function"==typeof i&&/\[native code\]/.test(i.toString())||(i=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(0<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!=i&&i!=1/0&&i!=-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var o=0<=i?i:Math.max(n-Math.abs(i),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1}),n.exports=e,t(e,"jx_core_globals_indexOf"),e}()}).call(e,t(1))},function(t,e,r){(function(e){t.exports=function(){function n(e,t){e||o.log(t)}var i=r(8),o={ok:n,isFunction:function(e,t){n(i(e),t)}};return{_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG&&(o.log=function(){}),o.log=function(){},t.exports=o,e(o,"jx_core_Assert"),o}()}).call(e,r(1))},function(n,e,t){(function(t){n.exports=function(){function e(e){return"function"==typeof e}return n.exports=e,t(e,"jx_core_globals_isFunction"),e}()}).call(e,t(1))},function(n,e,t){(function(e){var t;n.exports=(t=function(e,t){return t?null==e:void 0===e},n.exports=t,e(t,"jx_core_globals_isUndefined"),t)}).call(e,t(1))},function(n,e,t){(function(t){n.exports=function(){function e(e){return"number"==typeof e}return n.exports=e,t(e,"jx_core_globals_isNumber"),e}()}).call(e,t(1))},function(n,e,t){(function(t){n.exports=function(){function e(e){return"string"==typeof e}return n.exports=e,t(e,"jx_core_globals_isString"),e}()}).call(e,t(1))},function(r,e,t){(function(e){var i,n,o,t;r.exports=(i=function(e,t){return e===t||e&&t&&"object"==typeof e&&"object"==typeof t&&n(e,t)},n=function(e,t){var n;for(n in e)if(!i(e[n],t[n]))return!1;for(n in t)if(!i(e[n],t[n]))return!1;return!0},t={equal:i,clone:o=function(e){if("object"!=typeof e||!e)return e;var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n]));return t},extend:function(e){if(e)for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];if(i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}},r.exports=t,e(t,"jx_core_ObjectUtil"),t)}).call(e,t(1))},function(t,n,e){(function(e){t.exports=function(){function u(e,t){this.name=e,this.leaf=/\$[a-z]+$/.test(e),this.parentNode=t,this.listeners_value=[],this.listeners_write=[],this.leaf||(this.deleted=!1,this.listeners_keys=[],this.childNodes={},this.keys={})}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return u.prototype.fqname=function(){return function(e){for(var t="",n=0;n<e.length;n++)t+=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(e[n])?"."+e[n]:"["+JSON.stringify(e[n])+"]";return t.substr(1)}(this.path())},u.prototype.path=function(){for(var e=this,t=[this.name];e=e.parentNode;)t.unshift(e.name);return t},u.prototype.$$=u.prototype.descend=function(e){var t,n,i,o=this;for("string"==typeof e&&(e=e.split(".")),n=0,i=e.length;n<i;n++)t=e[n],h(o.childNodes,t)||(o.childNodes[t]=new u(t,o)),o=o.childNodes[t];return o},u.prototype.$=function(e,t,n,i,o,r,s,a,c){var l=h(this.childNodes,e)?this.childNodes[e]:this.childNodes[e]=new u(e,this);return t?l.$(t,n,i,o,r,s,a,c):l},u.prototype.update=function(e,t){var n,i,o,r,s;if(null!=e&&this.undeleteParents(),this.leaf)this.value!==e&&(this.value=e,r=!0,this.notifyListeners(e,t));else if(null==e){if(!this.deleted){for(n in r=null,this.deleted=!0,this.childNodes)this.childNodes.hasOwnProperty(n)&&this.childNodes[n].update(null,!0);this.notifyListeners(r,t)}}else{if(this.deleted)for(n in this.deleted=!1,r=e)e.hasOwnProperty(n)&&this.$(n).update(e[n],!0);else for(n in e)e.hasOwnProperty(n)&&(o=this.$(n),i=e[n],o.leaf?o.update(i,!0)&&(r||(r={}),r[n]=i):void 0!==(s=o.update(i,!0))&&(r||(r={}),r[n]=s));r&&this.notifyListeners(r,t)}return r},u.prototype.replace=function(e,t){var n,i,o,r,s;if(null!=e&&this.undeleteParents(),this.leaf)this.value!==e&&(this.value=e,r=!0,this.notifyListeners(e,t));else if(null==e){if(!this.deleted){for(n in r=null,this.deleted=!0,this.childNodes)this.childNodes.hasOwnProperty(n)&&this.childNodes[n].replace(null,!0);this.notifyListeners(r,t)}}else{if(this.deleted)for(n in this.deleted=!1,r=e)e.hasOwnProperty(n)&&this.$(n).replace(e[n],!0);else{for(n in this.childNodes)if(this.childNodes.hasOwnProperty(n)){if(h(e,n))continue;(o=this.childNodes[n]).leaf?o.replace(null,!0)&&(r||(r={}),r[n]=null):void 0!==(s=o.replace(null,!0))&&(r||(r={}),r[n]=null)}for(n in e)e.hasOwnProperty(n)&&(o=this.$(n),i=e[n],o.leaf?o.replace(i,!0)&&(r||(r={}),r[n]=i):void 0!==(s=o.replace(i,!0))&&(r||(r={}),r[n]=s))}r&&this.notifyListeners(r,t)}return r},u.prototype.undeleteParents=function(){for(var e=this.parentNode;e&&e.deleted;)e.deleted=!1,e=e.parentNode},u.prototype.write=function(e,t,n){"function"==typeof t&&(n=t,t=!1);var i={path:this.path(),value:e};"function"==typeof n&&(i.func=n),this.update(e,t||!1);for(var o=this;o.parentNode;)o=o.parentNode;o.notifyWriteListeners(i)},u.prototype.bindWrite=function(e){this.listeners_write.push(e)},u.prototype.bindValue=function(e){this.listeners_value.push(e);try{e.call(this,this.getValue())}catch(e){}},u.prototype.bindKeys=function(e){if(!this.leaf){this.listeners_keys.push(e);try{e.call(this,this.getKeys(),[])}catch(e){}}},u.prototype.unbindValue=function(e){for(var t=0;t<this.listeners_value.length;t++)if(this.listeners_value[t]==e)return void this.listeners_value.splice(t,1)},u.prototype.unbindKeys=function(e){if(!this.leaf)for(var t=0;t<this.listeners_keys.length;t++)if(this.listeners_keys[t]==e)return void this.listeners_keys.splice(t,1)},u.prototype.on=function(e,t){switch(e){case"value":this.bindValue(t);break;case"keys":this.bindKeys(t)}},u.prototype.un=function(e,t){switch(e){case"value":this.unbindValue(t);break;case"keys":this.unbindKeys(t)}},u.prototype.addListener=function(e,t){this.listeners[e].push(t)},u.prototype.removeListener=function(e,t){for(var n=this.listeners[e],i=n.length;0<i--;)n[i]==t&&n.splice(i,1)},u.prototype.notifyListeners=function(e,t){var n,i,o,r;if(!this.leaf)if(e)for(n in e)e.hasOwnProperty(n)&&(null!=e[n]?h(this.keys,n)||(this.keys[n]=1,i||(i=[]),i.push(n)):h(this.keys,n)&&(delete this.keys[n],o||(o=[]),o.push(n)));else for(n in this.keys)this.keys.hasOwnProperty(n)&&(delete this.keys[n],o||(o=[]),o.push(n));for(var s=0,a=(r=this.listeners_value.concat()).length;s<a;s++)try{r[s](e)}catch(e){}if(!this.leaf){if(i||o)for(s=0,a=(r=this.listeners_keys.concat()).length;s<a;s++)try{r[s](i||[],o||[])}catch(e){}if(!t&&this.parentNode){var c={};c[this.name]=e,this.parentNode.notifyListeners(c,t)}}},u.prototype.notifyWriteListeners=function(e){for(var t=this.listeners_write.concat(),n=0;n<this.listeners_write.length;n++)try{t[n].call(this,e)}catch(e){}},u.prototype.getValue=function(e){if(e)return this.descend(e).getValue();if(this.leaf)return this.value;if(this.deleted)return null;var t,n,i={};for(var o in this.childNodes)this.childNodes.hasOwnProperty(o)&&null!=(n=this.childNodes[o].getValue())&&(i[o]=n,t=!0);return t?i:null},u.prototype.hasKey=function(e){return h(this.keys,e)},u.prototype.getKeys=function(){if(this.leaf)return null;var e=[];for(var t in this.keys)this.keys.hasOwnProperty(t)&&e.push(t);return e},u.prototype.gc=function(){if(this.leaf)throw new TypeError("Leaf nodes cannot be collected");var e=!0;for(var t in this.childNodes)if(this.childNodes.hasOwnProperty(t)){var n=this.childNodes[t];e=n.leaf?!n.listeners_value.length&&null==n.value&&(delete this.keys[t],delete this.childNodes[t])&&e:n.gc()&&(delete this.keys[t],delete this.childNodes[t])&&e}return e&&this.deleted&&!this.listeners_keys.length&&!this.listeners_value.length},n.DataNode=u,e(u,"jx_data_DataNode"),u}()}).call(n,e(1))},function(l,e,u){(function(c){l.exports=function(){var e=u(9),t=u(3),n=u(5),i=function(){for(var e=function(){if(window.$zopim&&window.$zopim.s)return window.$zopim.s.src;for(var e,t=document.getElementsByTagName("script"),n=/.*zopim.(com|net|org)\//,i=0,o=t.length;i<o;i++)if(e=t[i].src||"",n.test(e))return e;return""}(),t=[/\/?[?]/,/\/livechat\//],n=[],i=0;i<t.length&&!(n=e.split(t[i])).length;i++);var o=n[1],r=n[0],s=/^(https?:)?\/\/[^\/]+/.exec(r),a=r.replace(/^(https?:)?\/\//i,"").split("/")[0],c=a.replace(/(.+\.)(?=.+\..+)/,""),l=n[0].split("/");return{accountKey:o,brandDomain:c,baseURL:l=l.pop()==a?n[0]:l.join("/"),rootURL:s=s&&"zopim.com"!==a?s[0]:"https://v2.zopim.com"}}(),o="https://v2.zopim.com/widget",r=o+"/images";e(t.baseURL,!0)&&(t.baseURL=n.secureURL(i.baseURL));var s,a={ASSETS_URL:o,IMAGES_URL:r,SOUNDS_URL:"https://v2.zopim.com/widget/sounds",FONTS_URL:"https://v2.zopim.com/widget/fonts",ASSETS_LEGACY:document.location.protocol+"//cdn.zopim.com/assets",BRANDING_URL:"https://www.zopim.com",AVATARS:{CONCIERGE:r+"/avatar_simple_agent.png",AGENT:r+"/avatar_simple_agent.png",VISITOR:r+"/avatar_simple_visitor.png",DEFAULT:r+"/avatar_simple_visitor.png"},ACCOUNT_KEY:i.accountKey,BRAND_DOMAIN:i.brandDomain,COUNTRY_CODE:(s='\x3c!--# echo var="http_cf_ipcountry" default="geo" --\x3e'.toUpperCase(),"<"==s.charAt(0)&&(s="geo"),s),AUTH_URL:"https://www.zopim.com/auth/$NAME/$KEY-$MID",AUTH_LOGOUT_URL:"https://www.zopim.com/auth/logout/$KEY-$MID",IS_POPOUT:window.$zopim_popout,POPOUT_WINDOW_PREFIX:"zlivechatpopout_",POPOUT_URL:i.rootURL+"/widget/livechat.html",CALLBACK_FILE_UPLOAD_PATH:"/client/widget/upload",FILE_UPLOAD_PATH:"/client/widget/uploads",FILE_UPLOAD_MAX:20971520,RESEND_MSG_TIMEOUT:5e3,FILE_REPLACE_SOURCE:/^(\s*https?\:\/\/v2(?:assets|uploads)\.zopim\.)com(\/)/i,FILE_REPLACE_RESULT:"$1io$2",CHAT_LOG_REMEMBER_COUNT:10};return l.exports=a,c(a,"meshim_widget_Config"),a}()}).call(e,u(1))},function(fe,e,pe){(function(de){fe.exports=function(){function t(e){if((oe="reattached"==e)&&(x.update({client_reattached_timestamp$int:+new Date}),w()),oe&&!1===y&&S&&E.$("livechat").$("profile").write({disconnect_timeout$int:b(S.rtt)}),"idle_disconnect"==e||"shutdown"==e||"error"==e){var t=E.$("livechat").$("account").$("status$string").getValue(),n=E.$("connection").$("backoff"),i=n.$("active$int").getValue()||0,o=n.$("max_seconds$int").getValue();"invalid_account_key"==t?H.warnBadEmbed():"widget_v2"==M&&"shutdown"==e&&i&&o&&(r=o,window.clearTimeout(he.reconnectTimer),he.reconnectTimer=window.setTimeout(function(){he.reconnect()},1e3*r)),s()}var r;m()}function n(e){e&&(R()||q.IS_POPOUT||e.mid$string&&G.setIdentity(e.mid$string))}function i(e){T=!0===e}function o(e){(L=!1!==e)&&(ae=!1,function(){for(var e=0,t=se.length;e<t;e++){var n=se[e];F(n)&&n()}se=[]}())}function r(e){for(var t=-1,n=0;n<ne.length;n++)if(ne[n].socket==e){t=n;break}if(-1!==t){var i=ne[t].expiryTimer;e.close(),clearTimeout(i)}}function s(e){S&&r(S),$=!e,S=null,ie=""}function a(){window.clearTimeout(he.reconnectTimer),s(!0),he.connect()}function c(e){e&&a()}function l(n){var i=V||new K(n,"W",null,Z);return i.on("open",function(){var e,t;e=n,t=i,k||(S?r(t):(x.update({socket_open_timestamp$int:+new Date,socket_status$string:null}),ie=e,W.increment("conn",["tries:"+ce]),ce=0,W.start("conn_open",t.starttime),W.end("conn_open",.25,["proxy:"+e]),(S=t).on("break",d),S.on("message",h),S.on("reopen",p),S.on("resume",f),S.on("error",function(){var e=this.connect_attempts,t=this.recv_messages;3<e&&0==t&&(s(!0),u(Q))}),_()))}),i}function u(e){function t(){clearTimeout(o),i.un("close",t),u(e)}if(!S&&!$){var n=N.getNextHost();if(n){ce++;var i=l(n);if(ne.push({socket:i,expiryTimer:setTimeout(function(){i!=S&&i.close()},ee)}),N.hasNext()){var o=setTimeout(t,e);i.on("close",t)}}}}function h(e){if(e){if(e.raw&&e.raw.__messageID in ue){var t=ue[e.raw.__messageID];delete ue[e.raw.__messageID],t(e)}var n=E;if("update"in e){if(/^livechat.account/.test(e.path)){var i=e.path.split(".");i.splice(0,2),((i=i.join("."))?A.$("account").descend(i):A.$("account")).update(e.update),H.fullyExtend(e.update,O.getValue("account"))}if(/^livechat/.test(e.path)&&"account"in e.update&&(A.$("account").update(e.update.account),H.fullyExtend(e.update.account,O.getValue("account"))),/^livechat.settings/.test(e.path)){var o=e.path.split(".");o.splice(0,2),((o=o.join("."))?A.$("settings").descend(o):A.$("settings")).update(e.update),H.fullyExtend(e.update,O.getValue("settings"))}e.path&&(n=n.descend(e.path)),n.update(e.update),he.fire("message",e)}}}function d(){x.update({socket_status$string:"break"})}function f(){x.update({socket_resume_timestamp$int:+new Date,socket_status$string:"resume"})}function p(){x.update({socket_open_timestamp$int:+new Date,socket_status$string:"reconnect"}),oe=!1,_()}function _(){if(q.ACCOUNT_KEY){S||he.connect();var e=G.getIdentity(),t=R(),n=E.$("livechat").$("ui").getValue("mobile$bool")?"mobile":"desktop",i=E.$("livechat").$("settings").$("theme").getValue("name$string"),o={__type:"register",accountKey:q.ACCOUNT_KEY,mID:e,ua:window.navigator.userAgent,dt:n,theme:i,cookie_law:t,rev:z.git_commit,source:M,source_ver:j};E.$("livechat").$("ui").$("popout$bool").getValue()?o.popout=!0:(o.title=document.title,o.url=window.location.href,o.ref=window.document.referrer);var r=he._register;if(r)for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);S.send(o)}}function m(){var e=x.getValue("status$string"),t=x.getValue("socket_status$string");if(window.clearTimeout(g.timer),"error"!=e)if("break"==t)"idle_disconnect"==e?x.update({message$string:"idle_disconnect"}):(x.update({message$string:"reconnecting"}),g.timer=window.setTimeout(g,6e4));else if(null===t&&"registered"==e)x.update({message$string:"resuming"});else if(B(e)&&B(t)){var n=I.getValue()?"fast_init":"first_init";x.update({message$string:n})}else x.update({message$string:null});else g.timer=window.setTimeout(g,5e3)}function g(){x.update({message$string:"disconnected"})}function v(e){return ue[le+=1]=e,le}function w(e){if(e){var t={};t.path=e.path,t.value=e.value,F(e.func)&&(t.__messageID=v(e.func)),re.push(t)}if(S&&oe)for(;re.length;)S.send(re.shift())}function b(e){var t,n=10*J.SECOND,i=1*J.SECOND,o=120*J.SECOND,r=20*J.SECOND;return e=Math.round(e)||0,e=Math.max(i,Math.min(e,n)),t=r+(e-i)/(n-i)*(o-r),Math.floor(t/1e3)}var y,$,E,x,S,k,O,A,I,C,T,D,L,N,R,P,M,U,j,V,F=pe(8),z=pe(3),B=pe(9),e=pe(4),q=pe(14),G=pe(16),W=pe(30),H=pe(23),K=pe(50),X=pe(55),Y=pe(56),J=pe(60),Z={FLUSH_DELAY_MS:0,RECONNECT_DELAY_MS:1e4},Q=3e3,ee=6e4,te=new Y(X),ne=[],ie="",oe=!1,re=[],se=[],ae=!1,ce=0,le=0,ue={},he=e.extend({init:function(e){R=e.isCookieDenied,P=e.overrideProxy,M=e.source,U=e.lastHost,j=e.source_ver,E=e.root,O=E.$("tmp").$("api_settings"),A=E.$("tmp").$("server_settings"),I=E.$("livechat").$("settings").$("cached$bool"),x=E.$("connection"),C=x.$("server_retired$bool"),(D=x.$("server_ready$bool")).bindValue(o),C.bindValue(i),(k=E.$("livechat").$("ui").$("mockup$bool").getValue())?x.$("status$string").update("reattached"):(E.$("livechat").$("profile").bindValue(n),x.$("status$string").bindValue(t),x.$("socket_status$string").bindValue(m),E.bindWrite(w),x.$("reconnect$bool").bindValue(c),window.__z_sdk?y=!0:(y=!1,"visibilityState"in document&&"prerender"==document.visibilityState?document.addEventListener("visibilitychange",function e(){"prerender"!=document.visibilityState&&(document.removeEventListener("visibilitychange",e),he.connect())}):he.connect()))},send:function(e){S&&S.send(e)},connect:function(){var e=U||x.$("server$string").getValue()||"";try{N=te.getGeoAccess(P,e,3,2)}catch(e){return void(window.console&&window.console.log("Unable to compute host list"))}u(Q)},reconnect:a,disconnect:function(){x.update({status$string:"idle_disconnect"})},getConnectionStats:function(){var e=S;return e?{connect_attempts:e.connect_attempts,connections:e.connections,disconnects:e.disconnects,timeout_server:e.timeout_server,timeout_response_soft:e.timeout_response_soft,timeout_response_hard:e.timeout_response_hard,sent_bytes:e.sent_bytes,recv_bytes:e.recv_bytes,sent_messages:e.sent_messages,recv_messages:e.recv_messages,sent_frames:e.sent_frames,recv_frames:e.recv_frames,lost_frames:e.lost_frames,ooo_frames:e.ooo_frames,bytes_at_connect:e.bytes_at_connect,rtt:e.rtt,clock_skew:e.clock_skew,reconnect_delay:e.reconnect_delay,quality:e.quality,host:e.host,status:e.status,zone:window.__$__GEO,last_frame_time:e.last_frame_time,local_time:+new Date}:{status:"not connected"}},getHost:function(){return ie},getServerTime:function(){return+new Date-(S?S.clock_skew:0)},getServerSettings:function(e){return e?A.getValue(e):A.getValue()},reconnectIfServerRetired:function(e){!L||T?(x.update({server_ready$bool:!1}),se.push(e),ae||(ae=!0,S.reconnect())):e()},registerCallback:v,getDCTimeoutValue:b,setSocket:function(e){V=e},reset:function(){D.unbindValue(o),C.unbindValue(i),E.$("livechat").$("profile").unbindValue(n),x.$("status$string").unbindValue(t),x.$("socket_status$string").unbindValue(m),x.$("reconnect$bool").unbindValue(c),s(),ne.forEach(function(e){r(e.socket),e.socket.fire("close")}),g.timer=clearTimeout(g.timer),ie="",ne=[],oe=!1,re=[],se=[],ae=!1,le=ce=0,ue={},y=$=E=x=S=k=O=A=I=C=T=D=L=N=R=P=M=U=j=V=null}});return fe.exports=he,de(he,"meshim_widget_controllers_ConnectionController"),he}()}).call(e,pe(1))},function(m,e,g){(function(_){m.exports=function(){function o(e){e=(e=t(e))?1:0,a.set(d,e,{path:"/",ttl:365,domain:n})}function r(e){return a.getJSONCookie(e)[l]}var n,t=g(17),i=g(18),s=g(20),a=g(22),c=g(14),e=g(23),l=c.ACCOUNT_KEY,u="__zlcstore",h="__zlcmid",d="__zlcprivacy",f=window.location.hostname;n=/\b(?:\d{1,3}\.){3}\d{1,3}/.test(f)?f:e.getEffectiveTLD(f);var p={init:function(){l=c.ACCOUNT_KEY},DOM:{saveVariable:function(e,t){var n=s.get(u)||{};n[l]||(n[l]={});var i=n[l];i[e]=t,i.timestamp=+new Date,s.set(u,n)},getVariable:function(e){var t=s.get(u)||{};if(!t[l])return{};var n=t[l];return n.timestamp?48e4<+new Date-n.timestamp?{}:n[e]:n[e]||{}}},Cookie:a,clearAll:function(){a.remove(h,{path:"/",domain:n}),s.remove(u)},setIdentity:function(e){a.set(h,e,{path:"/",ttl:365,domain:n})},getIdentity:function(){if(c.IS_POPOUT)return a.get("__zlcpomid")||i().get("mid");var e=function(){var e=a.getJSONCookie("__zlcid");if(a.remove("__zlcid",{path:"/"}),e.mID)return e.mID;var t=r("__zlcstore");return a.remove("__zlcstore",{path:"/",domain:n}),t&&t.mID?t.mID:void 0}();return e||a.get(h)||""},clearAllowCookieLaw:function(){a.remove(d,{path:"/",domain:n})},getAllowCookieLaw:function(){var e=(n=r("__zlcprivacy"),"boolean"==typeof n&&o(t=n),t);var t,n;if("boolean"==typeof e)return e;var i=a.get(d);return 0!==(i=parseInt(i,10))&&(1===i||void 0)},setAllowCookieLaw:o};return m.exports=p,_(p,"meshim_widget_controllers_StorageController"),p}()}).call(e,g(1))},function(n,e,t){(function(t){n.exports=function(){function e(e){return!!e&&"false"!=e}return n.exports=e,t(e,"jx_core_globals_parseBoolean"),e}()}).call(e,t(1))},function(s,e,a){(function(n){s.exports=function(){function l(e){return this instanceof l?e?l.parseQuery(e):void(this.store={}):(t||l._initSingleton(window),t)}function o(e,t,n){if(void 0===t&&void 0===n)return e;if(void 0===t&&(t="string"),!(t in r))throw"invalid type requested";return void 0===e?void 0!==n?n:r[t]:"boolean"===t?i.test(e):"integer"===t?!0===e?1:parseInt(e,10):"float"===t?!0===e?1:parseFloat(e):e}var u=a(19),i=/^(1|on|true)$/i,r={boolean:!1,integer:0,float:0,string:""},t=null;l._initSingleton=function(e){t=new l(e.location.search)},l.buildQuery=function(e){var t,n,i,o,r,s,a=[],c=[];for(r in e)e.hasOwnProperty(r)&&a.push(r);for(a.sort(),t=0,i=a.length;t<i;t++)if(s=e[r=a[t]],r=window.encodeURIComponent(r),u(s))if(1!==s.length||!0!==s[0])for(n=0,o=s.length;n<o;n++)c.push(r+"="+window.encodeURIComponent(s[n]+""));else c.push(r);else c.push(r+"="+window.encodeURIComponent(s+""));return c.join("&")},l.parseQuery=function(e){var t,n,i,o,r=new l,s=(e=e.replace(/^\?|\/+$/g,"")).split("&");for(t=0,n=s.length;t<n;t++){var a=s[t];if(a.length){var c=a.indexOf("=");c<=-1?(i=a,o=!0):(i=a.slice(0,c),o=window.decodeURIComponent(a.slice(c+1))),r.add(window.decodeURIComponent(i),o)}}return r},l.getHash=function(e,t){var n=t||window.location.hash;return l.parseQuery(n.replace(/^#/,"")).get(e)};var e=l.prototype;return e.add=function(e,t){this.has(e)?this.store[e].push(t):this.store[e]=[t]},e.has=function(e){return this.store.hasOwnProperty(e)},e.getLast=function(e,t,n){return this.has(e)?this.getAt(e,this.store[e].length-1,t,n):o(void 0,t,n)},e.getFirst=function(e,t,n){return this.getAt(e,0,t,n)},e.getAt=function(e,t,n,i){return o(this.has(e)?this.store[e][t]:void 0,n,i)},e.getRaw=function(e){return this.has(e)?this.store[e].concat():[]},e.get=e.getLast,e.toString=function(){return l.buildQuery(this.store)},s.exports=l,n(l,"meshim_common_QueryString"),l}()}).call(e,a(1))},function(n,e,t){(function(t){n.exports=function(){function e(e){return"[object Array]"==Object.prototype.toString.call(e)}return n.exports=e,t(e,"jx_core_globals_isArray"),e}()}).call(e,t(1))},function(p,e,_){(function(f){p.exports=function(){function e(n){return function(){try{var e=Array.prototype.slice.call(arguments,0);e.unshift(i),l.appendChild(i),i.addBehavior("#default#userData"),i.load(r);var t=n.apply(a,e);return l.removeChild(i),t}catch(e){}}}function s(e){return e.replace(h,"___")}var i,n=_(21),a={},t=window,o=t.document,r="localStorage",c="__storejs__";if(a.disabled=!1,a.set=function(){},a.get=function(){},a.remove=function(){},a.clear=function(){},a.transact=function(e,t,n){var i=a.get(e);null==n&&(n=t,t=null),void 0===i&&(i=t||{}),n(i),a.set(e,i)},a.getAll=function(){},a.serialize=function(e){return n.stringify(e)},a.deserialize=function(t){if("string"==typeof t)try{return n.parse(t)}catch(e){return t||void 0}},function(){try{return r in t&&t[r]}catch(e){return!1}}())i=t[r],a.set=function(e,t){return void 0===t?a.remove(e):(i.setItem(e,a.serialize(t)),t)},a.get=function(e){return a.deserialize(i.getItem(e))},a.remove=function(e){i.removeItem(e)},a.clear=function(){i.clear()},a.getAll=function(){for(var e={},t=0;t<i.length;++t){var n=i.key(t);e[n]=a.get(n)}return e};else if(o.documentElement.addBehavior){var l,u;try{(u=new window.ActiveXObject("htmlfile")).open(),u.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>'),u.close(),l=u.w.frames[0].document,i=l.createElement("div")}catch(e){i=o.createElement("div"),l=o.body}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");a.set=e(function(e,t,n){return t=s(t),void 0===n?a.remove(t):(e.setAttribute(t,a.serialize(n)),e.save(r),n)}),a.get=e(function(e,t){return t=s(t),a.deserialize(e.getAttribute(t))}),a.remove=e(function(e,t){t=s(t),e.removeAttribute(t),e.save(r)}),a.clear=e(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(r)}),a.getAll=e(function(e){for(var t,n=e.XMLDocument.documentElement.attributes,i={},o=0;t=n[o];++o){var r=s(t.name);i[t.name]=a.deserialize(e.getAttribute(r))}return i})}try{a.set(c,c),a.get(c)!=c&&(a.disabled=!0),a.remove(c)}catch(e){a.disabled=!0}a.enabled=!a.disabled;var d=a;return p.exports=d,f(d,"meshim_common_DOMStorage"),d}()}).call(e,_(1))},function(m,e,g){(function(_){m.exports=function(){function a(e){return'"'+e.replace(o,t)+'"'}function t(e){return r[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function c(e){switch(typeof e){case"string":return a(e);case"number":return isFinite(e)?e.toString():"null";case"boolean":return String(e);case"object":if(!e)return"null";var t,n,i=[];if(l(e)){for(t=0,n=e.length;t<n;t++)i[t]=c(e[t])||"null";return"["+i.join(",")+"]"}var o,r,s=[];for(o in e)e.hasOwnProperty(o)&&s.push(o);for(s.sort(),t=0,n=s.length;t<n;t++)(r=c(e[o=s[t]]))&&i.push(a(o)+":"+r);if(i.length)return"{"+i.join(",")+"}"}}function u(e,t,n){return t?s[t]:String.fromCharCode(parseInt(n,16))}function e(e){var t,n,i,o,r,s=e.match(h),a=s.length,c=s[0];"{"==c?(t={},r=1):"["==c?(t=[],r=1):(t=[],n=!(r=0));var l=[t];for(a=s.length;r<a;++r)switch((c=s[r]).charCodeAt(0)){case 91:o=l[0],l.unshift(o[i||o.length]=[]),i=void 0;break;case 93:l.shift();break;case 123:o=l[0],l.unshift(o[i||o.length]={}),i=void 0;break;case 125:l.shift();break;case 102:(o=l[0])[i||o.length]=!1,i=void 0;break;case 110:(o=l[0])[i||o.length]=null,i=void 0;break;case 116:(o=l[0])[i||o.length]=!0,i=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf(p)&&(c=c.replace(d,u)),o=l[0],null==i){if(!(o instanceof Array)){i=c||f;break}i=o.length}o[i]=c,i=void 0;break;default:(o=l[0])[i||o.length]=+c,i=void 0}if(n){if(1==l.length)return t[0]}else if(!l.length)return t;throw"error"}var n=g(9),l=g(19),i=(g(6),!n(window)&&window.JSON||{parse:e,stringify:c});({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"})._HOSTILE&&(i={parse:e,stringify:c});var o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\",'"':'\\"'},h=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),d=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),s={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},f=new String(""),p="\\";return m.exports=i,_(i,"jx_data_JSON"),i}()}).call(e,g(1))},function(n,e,c){(function(t){n.exports=function(){function i(e){return"string"==typeof(t=e)&&""!=t&&function(){var e,t,n,i,o=document.cookie,r={};if(!o||"string"!=typeof o)return{};for(e=(o=o.split(/;\s/)).length;e--;)try{if(!(t=o[e].match(/^([^=]+)(=(.*))?$/)))continue;n=a(t[1]),i=a(t[3]||""),r[n]=i}catch(e){}return r}()[e]||null;var t}function o(e,t,n){n=n||{};var i=s(e)+"="+s(t);if("ttl"in n){var o=new Date,r=24*n.ttl*60*60*1e3;o.setTime(o.getTime()+r),i+="; expires="+o.toGMTString()}"path"in n&&(i+="; path="+n.path),"domain"in n&&(i+="; domain="+n.domain),n.secure&&(i+="; secure"),document.cookie=i}var r=c(21),e={set:o,get:i,getJSONCookie:function(e){var t=i(e),n={};try{n=r.parse(t)}catch(e){}return n&&"object"==typeof n?n:{}},setJSONCookie:function(e,t,n){"object"!=typeof t&&(t={}),o(e,r.stringify(t),n)},remove:function(e,t){(t=t||{}).ttl=-1,o(e,"",t)}},s=window.encodeURIComponent,a=window.decodeURIComponent;return n.exports=e,t(e,"meshim_common_Cookie"),e}()}).call(e,c(1))},function(v,e,w){(function(g){v.exports=function(){function e(e,t){for(var i,n=document.createElement("div"),o=0,r=u.length;o<r;o++)if(void 0!==n.style[u[o]]){i=t[o];break}return i?e?function(e,t,n){e.autobind(t,i,n)}:function(e,t,n){e.autounbind(t,i,n)}:function(){}}var t,o,n,i=w(5),r=w(9),d=w(24),s=w(22),a=w(14),c="-webkit- -moz- -o- -ms- ".split(" "),l="webkit Moz O ms ".split(" "),u=["transition","MozTransition","OTransition","WebkitTransition"],h=["transitionend","transitionend","otransitionend","webkitTransitionEnd"],f=["animationend","animationend","oanimationend","webkitAnimationEnd"],p={contains:(n=document.documentElement,n.compareDocumentPosition?function(e,t){return e=e.dom||e,t=t.dom||t,!!(16&e.compareDocumentPosition(t))}:n.contains?function(e,t){e=e.dom||e,t=t.dom||t;var n=9===e.nodeType?e.documentElement:e,i=t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:function(e,t){for(e=e.dom||e,t=t.dom||t;t=t.parentNode;)if(t===e)return!0;return!1}),onTransitionEnd:e(!0,h),unTransitionEnd:e(!1,h),onAnimationEnd:e(!0,f),unAnimationEnd:e(!1,f),css_prefixes:c,cssom_prefixes:l,isStyleSupported:(o=document.createElement("div").style,function(e){for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=(e+" "+l.join(t+" ")+t).split(" "),i=0;i<n.length;i++)if(void 0!==o[n[i]])return!0;return!1}),pick:function(e,t){for(var n={},i=0,o=t.length;i<o;i++){var r=t[i];r in e&&(n[r]=e[r])}return n},shallowExtend:function(){for(var e,t,n=arguments.length,i=1,o=arguments[0]||{};i<n;i++)if(null!=(e=arguments[i]))for(t in e)e.hasOwnProperty(t)&&o!==e[t]&&(o[t]=e[t]);return o},fullyExtend:function e(t,n){for(var i in n)n.hasOwnProperty(i)&&(n[i]&&n[i].constructor&&n[i].constructor===Object?(t[i]=t[i]||{},e(t[i],n[i])):t[i]=n[i]);return t},fullyDelete:function e(t,n){for(var i in n)if(n.hasOwnProperty(i)){if(!(i in t))continue;n[i]&&n[i].constructor&&n[i].constructor===Object?e(t[i],n[i]):delete t[i]}return t},computedHeightBoxSizingBug:function(){if(void 0===t)try{t=function(){if(!window.getComputedStyle)return!1;var e=document.createElement("div"),t="border-box";document.body.appendChild(e),e.style.height="10px",e.style.padding="5px",e.style.boxSizing=t,e.style.webkitBoxSizing=t,e.style.mozBoxSizing=t;var n=parseInt(window.getComputedStyle(e).height,10);return document.body.removeChild(e),10!=n}()}catch(e){}return t},getComputedHeight:function(e){var t=e.getComputedStyle();if("auto"==t.height)return e.getHeight();var n=parseInt(t.height,10)||0;return p.computedHeightBoxSizingBug()&&(n+=(parseInt(t.paddingTop,10)||0)+(parseInt(t.paddingBottom,10)||0)+(parseInt(t.borderTopWidth,10)||0)+(parseInt(t.borderBottomWidth,10)||0)),n+"px"},hoverFix:function(e){i.bugs.noBoxSizing&&(e.on("mouseover",function(){this.addClass("hover")}),e.on("mouseout",function(){this.removeClass("hover")}))},getEffectiveTLD:function(e){for(var t="zte2095",n=e.split("."),i="."+n.splice(n.length-2,2).join(".");n.length;){var o={domain:i,path:"/"};if(s.set(t,"1",o),"1"==s.get(t)){s.remove(t,o);break}i="."+n.pop()+i}return i},descendsObj:function(e,t){for(var n,i=t.split(".");i.length;)n=i.shift(),r(e[n],!0)&&(e[n]={}),e=e[n];return e},insertObj:function(e,t,n){var i=(e=e.split(".")).pop();if(i){for(var o=0,r=e.length;o<r;o++)e[o]in n||(n[e[o]]={}),n=n[e[o]];n[i]=t}},isDefaultName:function(e){return _.test(e)},getKeys:function(e){if(e&&"object"==typeof e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}},supportsDataURI:function(e){if(window.Image)try{var t=new window.Image;t.onload=t.onerror=function(){e(!(1!=this.width||1!=this.height))},t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}catch(t){e()}else e()},isIE:i.isIE||/Trident\//.test(window.navigator.userAgent),pad:function(e,t){e=parseInt(e,10),isNaN(e)&&(e=0);var n=e<0;e=Math.abs(e).toString().split("");for(var i=Math.max(t-e.length,0);i--;)e.unshift("0");return n&&e.unshift("-"),e.join("")},formatMinutesAsHours:function(e,t){function n(e,t,n){return n.replace("<hours>",e).replace("<minutes>",t)}var i,o,r=d("<hours>:<minutes>"),s=d("<hours>:<minutes> am"),a=d("<hours>:<minutes> pm"),c="24"===t?24:12,l=(i=Math[0<e?"floor":"ceil"](e/60),o=c,i-Math[0<i?"floor":"ceil"](i/o)*o),u=p.pad(Math.abs(e)%60,2);if(24===c)return n(p.pad(l,2),u,r);var h=0===l?12:l;return Math.abs(e/60)%24<12?n(h,u,s):n(h,u,a)},replaceFileHostname:function(e){return e&&e.replace(a.FILE_REPLACE_SOURCE,a.FILE_REPLACE_RESULT)},getLastLogEntries:function(e,t){if(!(t=parseInt(t,10)))return e.getValue();var n=e.getKeys(),i=n.length,o={};if(i<=t)return e.getValue()||o;for(var r=0;r<i;r++)n[r]=parseInt(n[r],10);n=n.sort().slice(-t);var s,a=e.getValue();if(!a)return o;for(r=0,i=n.length;r<i;r++)o[s=n[r]]=a[s];return o},writeNode:function(e,t){var n;e.leaf&&e.parentNode?((n={})[e.name]=t,e.parentNode.write(n)):e.write(t)},isAgentNick:function(e){return m.test(e)},refocusActiveElement:function(){if(i.isNewIE)try{"body"!==document.activeElement.nodeName.toLowerCase()&&document.activeElement.focus()}catch(e){}},warnBadEmbed:function(){window.console&&window.console.warn&&window.console.warn("The Zopim widget embed code is invalid. Please email chat@zendesk.com with your account key: "+a.ACCOUNT_KEY)},getAuthLoginUrl:function(e,t,n){return a.AUTH_URL.replace("$NAME",e).replace("$KEY",t).replace("$MID",n)}},_=/^Visitor [0-9]{3,}$/,m=/^agent:[0-9]+/i;return v.exports=p,g(p,"meshim_widget_utils_Utils"),p}()}).call(e,w(1))},function(w,e,b){(function(r){w.exports=function(){function s(e,t){if(isNaN(e)){var n=new a;return n.add("_",e),n}-1==e&&(e=f.length);var i=f[e];if(i||(f[e]=i=new a),"string"==typeof t)i.add("_",t);else for(var o in t)t.hasOwnProperty(o)&&i.add(o,t[o]);return i}function a(){function i(e){return r[e||p]||r._}function e(e){return function(){return function(e,t){var n,i=new a;for(var o in f[r._]=i,r)if(r.hasOwnProperty(o)){if("string"!=typeof(n=r[o]))continue;n=n[e].apply(n,t),i.add(o,n)}return i}(e,arguments)}}for(var r={},o=[],t={add:function(e,t){r[e]=t},bind:function(e){c(e,t)},onTranslate:function(e){o.push(e)},toJSON:function(){return i()},toString:i,update:function(e){var t,n=i(e);for(t=0;t<o.length;t++)o[t](n)}},n=["concat","replace","toLowerCase","toUpperCase"],s=0;s<n.length;s++)t[n[s]]=e(n[s]);return t}function c(e,t){for(var n=0;n<_.length;n++)if(_[n]==e)return void(m[n]=t);_.push(e),m.push(t)}function l(e){var t=(e=e.split(/-|_/).slice(0,2))[0]=e[0].toLowerCase();return e[1]&&(e[1]=e[1].toUpperCase()),e=e.join("_"),u.languages?e in u.languages?e:t in u.languages?t:null:null}function t(){return!(-1==p.search(n))}var e=b(5),u=b(3),h=b(25),d=b(26),f=[],p="_",_=[],m=[],g=[],v=e.isTextContent,n=/^ar|^fa|^he|^ku|^ur/,i=u.strings;if(i)for(var o=0;o<i.length;o++)s(o,i[o]);return s.bind=c,s.flip=function(e){return t()?e.replace(/left/,"%left%").replace(/right/,"left").replace(/%left%/,"right").replace(/ltr/,"%ltr%").replace(/rtl/,"ltr").replace(/%ltr%/,"rtl"):e},s.onLanguage=function(e){g.push(e)},s.unLanguage=function(e){for(var t=0,n=g.length;t<n;t++)if(g[t]==e){g._active?(g[t]=null,g._dirty=!0):t==n-1?g.pop():g[t]=g.pop();break}},s.update=function(t){var n,i,o,r,e;(t=l(t))&&u.languages[t]&&(e=h[u.languages[t]])&&(s.language=p=t,d.ensureLoaded(e,function(e){if(e&&function(e){var t,n=h[u.languages[e]];for(t=0;t<n.length;t++)0!==n[t]&&f[t].add(e,n[t])}(t),t==p){for(n=0,i=f.length;n<i;n++)f[n].update instanceof Function&&f[n].update(t);for(n=0,i=_.length;n<i;n++)if(o=_[n],r=m[n].toString(),v)o.textContent=r;else if("string"==typeof o.innerText)o.innerText=r;else if("string"==typeof o.nodeValue)try{o.data=r}catch(e){}for(g._active=!0,i=g.length,n=0;n<i;n++)try{g[n]&&g[n](t)}catch(e){}if(g._active=!1,g._dirty){for(n=0;n<i;n++)g[n]||(n==i-1?g.pop():g[n--]=g.pop(),i--);g._dirty=!1}}}))},s.unbind=function(e){for(var t=0;t<_.length;t++)if(_[t]==e)return _.splice(t,1),void m.splice(t,1)},s.rtl=t,s.findClosestLanguage=l,w.exports=s,r(s,"jx_core__"),s}()}).call(e,b(1))},function(e,t,n){var i=n(3),o={};o.$Data=i,e.exports=o},function(t,e,l){(function(e){t.exports=function(){function n(){var e=Array.prototype.slice.call(arguments),t=e.shift();this.fqname=t,this.name=t.split(".").pop(),this.callbacks=[],this.dependencies=e,a.push(this)}function i(e){e()}var o=l(25),r=l(3),s=l(27),a=[],c=/^function *\( *\) *{ *([\s\S]*) *}$/;return n.ensureLoaded=function(e,t){e instanceof n?e.ensureLoaded(t):t()},n.prototype.ensureLoaded=function(e){this.ifLoaded(e),this.load()},n.prototype.ifLoaded=function(e){this.callbacks.push(e)},n.prototype.load=function(){function e(e){var t,n,i;t=e[0],n=e[1],(i=o[t]).module_function=new Function("$Modules",n.toString().replace(c,"$1")),i.ready()}var t,n,i=this.getDependencies();for(t=0;t<i.length;t++)(n=i[t]).loader||(n.loader=new s(r.baseURL+"/lib/"+r.build_number+"/"+n.fqname+".js",o,e))},n.prototype.getDependencies=function(){var e,t=this.dependencies,n=[this];for(e=0;e<t.length;e++){var i=o[t[e]];n=n.concat(i.getDependencies())}return n},n.prototype.ready=function(){if(!this.dependencies.length&&this.module_function){for(e=a.length-1;0<=e;e--)if(a[e]==this){a.splice(e,1);break}this.module_function(o);var e,t=o[this.fqname];for(t.ifLoaded=t.ensureLoaded=i,e=0;e<this.callbacks.length;e++)this.callbacks[e](t);!function(e){var t,n,i,o;for(t=a.length-1;0<=t;t--){for(n=(o=(i=a[t]).dependencies).length-1;0<=n;n--)if(o[n]==e){o.splice(n,1);break}i.ready()}}(this.fqname),delete this.callbacks,delete this.fqname,delete this.name,delete this.dependencies,delete this.loader}},o.Module=n,t.exports=n,e(n,"jx_core_Module"),n}()}).call(e,l(1))},function(n,e,i){(function(t){n.exports=function(){function e(e,t,n){var i=this;r.extend(i);var o=new s;t=t||{},o.setScope(t),o.on("success",n),o.on("error",function(e){i.onError(e)}),o.load(e)}var r=i(4),s=i(28);return e.prototype.onError=function(e){},n.exports=e,t(e,"jx_io_ScriptLoader"),e}()}).call(e,i(1))},function(i,e,o){(function(t){i.exports=function(){function e(e){var t,n,i=s.extend(this);try{(t=new window.ActiveXObject("htmlfile")).open(),t.write("<script>document.win = window<\/script>"),t.close(),n=t.win}catch(e){}if(!n){var o=this.iframe=document.createElement("iframe"),r=o.style;i.allowTransparency="true",i.frameBorder="0",r.backgroundColor="transparent",r.position="absolute",r.width=r.height="1px",r.left=r.top="-9999px",r.border=0,document.body.appendChild(o);try{(t=(n=o.contentWindow).document).open(),t.close()}catch(e){return i.fire("error"),void i.destroy()}}i.doc=t,i.win=n,i.$Loader={cleanup:function(){a(function(){i.$Loader.payload?i.fire("success",i.$Loader.payload):i.fire("error"),i.$Loader.payload=null,e||i.destroy()})}},i.reusable=e}var s=o(4),a=o(29);e.prototype.setScope=function(e){this.scope=e};var n=/[&<>"']/g;return e.prototype.load=function(e){var t;if(/^(?:https?:)?\/\//i.test(e)){e=(t=e)&&t.replace(n,function(e){return"&#"+e.charCodeAt(0)+";"});try{this.doc.open(),this.win.$Loader=this.$Loader,this.win.$Loader.scope=this.scope||{},this.doc.write('<html><head><script src="'+e+'"><\/script><script>document.addEventListener && document.addEventListener("DOMContentLoaded", function() {try { $Loader.cleanup() } catch(e) {}})<\/script></head><body></body></html>'),this.doc.close()}catch(e){this.$Loader.cleanup()}}else this.$Loader.cleanup()},e.prototype.destroy=function(){try{this.iframe&&document.body.removeChild(this.iframe),this.doc=this.win=this.iframe=this.win.$Loader=null}catch(e){}},i.exports=e,t(e,"jx_io_DataIFrame"),e}()}).call(e,o(1))},function(n,e,i){(function(t){n.exports=function(){function e(e,t,n){if(s.ok("function"==typeof e,"1st argument to nextTick must be a function"),n)for(var i=l.length;0<i--;)if(l[i][0]===e&&l[i][1]===t)return;l.push([e,t]),r||(r=setTimeout(o,0))}function o(){var e=+new Date+c,t=l;l=[],r&&(r=clearTimeout(r));for(var n=0,i=t.length;n<i;n++){try{t[n][0].apply(t[n][1])}catch(e){a.fire("error",e)}if(+new Date>e){n<i-1&&(t.splice(0,n+1),l.length?l=t.concat(l):(l=t,r=setTimeout(o,0)));break}}}var r,s=i(7),a=i(4),c=100,l=[];return e.tick=o,n.exports=e,t(e,"jx_core_globals_nextTick"),e}()}).call(e,i(1))},function(m,e,g){(function(_){m.exports=function(){function e(e){e.bindValue(t)}function t(e){"registered"==e||"reattached"==e||"cookie_law"==e?(o=!0,i.flush()):o=!1}function n(){o&&this.queue.length&&(f.root.$("livechat").$("ui").$("mockup$bool").getValue()||c(i.send)&&i.send({__type:"instrumentation",metrics:this.queue}),this.queue=[])}var i,o,r,s,a,c=g(8),l=g(5),u=g(3),h=g(31),d=g(32),f=g(34),p=g(14);return(i=new h).setTags(((a=[]).push("client_country_code:"+p.COUNTRY_CODE),a.push("browser:"+l.browser),d.isMobileBrowser?(r=d.isMobileTablet?"tablet":"mobile",s=d.isAndroid?"android":d.isIOS?"ios":d.isWP?"wp":"other"):(r="desktop",s=l.isWindows?"win":l.isMac?"mac":"other"),a.push("device:"+r),a.push("platform:"+s),a.push("rev:"+u.git_commit),a)),i.bindToConnectionStatus=e,i.flush=n,m.exports=i,_(i,"meshim_widget_controllers_InstrumentationController"),i}()}).call(e,g(1))},function(h,e,d){(function(u){h.exports=function(){function o(){t=clearInterval(t),c=!1,function(){for(var e=i.length;e--;){for(var t=i[e],n=t.queue.length;n--;)"histogram"===t.queue[n].method&&t.queue.splice(n,1);t.start_ts={}}}()}function e(){this.ref_ts=null,this.from_ref_ts={},this.start_ts={},this.tags=[],this.queue=[],i.push(this)}var s=d(19),r=d(11),a=d(10),c=!0,n=+new Date,t=setInterval(function(){var e=+new Date,t=e-n;3e3<Math.abs(t-15e3)&&o(),n=e},15e3),i=[],l=e.prototype;return l.flush=function(){},l.setTags=function(e){s(e)&&(this.tags=e.concat())},l.addTag=function(e){r(e)&&e&&this.tags.push(e)},l.setRefTime=function(e){a(this.ref_ts)||a(e)&&(this.ref_ts=e)},l.fromRefTime=function(e,t,n){if(c&&a(this.ref_ts)&&r(e)&&e)if(this.from_ref_ts[e]);else{this.from_ref_ts[e]=!0;var i=+new Date;i<this.ref_ts?o():this.histogram(e,(i-this.ref_ts)/1e3,t,n)}},l.start=function(e,t){c&&r(e)&&e&&(e in this.start_ts||(this.start_ts[e]=a(t)?t:+new Date))},l.end=function(e,t,n){if(c&&r(e)&&e&&e in this.start_ts){var i=+new Date;i<this.start_ts[e]?o():(this.histogram(e,(i-this.start_ts[e])/1e3,t,n),delete this.start_ts[e])}},l.restart=function(e,t){delete this.start_ts[e],this.start(e,t)},l.increment=function(e,t,n){this._queue("increment",e,1,t,n),this.flush()},l.histogram=function(e,t,n,i){this._queue("histogram",e,t,n,i),this.flush()},l._queue=function(e,t,n,i,o){s(i)&&(o=i,i=void 0);var r={method:e,name:t,value:n,tags:this.tags.concat(o||[])};a(i)&&(r.sample_rate=i),this.queue.push(r)},h.exports=e,u(e,"meshim_common_Instrumentation"),e}()}).call(e,d(1))},function(b,e,y){(function(w){b.exports=function(){function e(){return window.document.documentElement.clientWidth>window.document.documentElement.clientHeight}function t(){return _&&u.test(p)}function a(){return _&&/(iemobile|windows phone)/i.test(f)}function c(){return _&&o.test(p)&&!r.test(f)}var n,l=y(5),s=y(8),i=y(33),o=/google inc\./i,r=/chrome/i,u=/apple computer, inc\./i,h=/crios/i,d=/OS ([_0-9]+) like Mac OS X/i,f=window.navigator.userAgent||"",p=window.navigator.vendor||"",_=i(),m={isMobileBrowser:_,isMobileWhitelist:function(){for(var e,t=[/(android [2-9])|(iemobile\/(?![5-9]))|(ucbrowser)|(Webkit.+Chrome)|(ipod|iphone|ipad).+applewebkit.+(CriOS|Version\/[5-9]|Mobile)/i],n=0,i=t.length;n<i;n++)if(t[n].test(f)){e=!0;break}return/android.+ucbrowser/i.test(f)&&(e=!1),e}(),isMobileTablet:(n=window.document.documentElement.clientWidth,e()?g<n:v<n),isAndroid:_&&o.test(p),isIOS:t(),isWP:a(),isIEMobile:a(),isChromeIOSMobile:_&&u.test(p)&&h.test(f),isSafariIOSMobile:_&&u.test(p)&&!h.test(f),isChromeAndroidMobile:_&&o.test(p)&&r.test(f),isOperaAndroidMobile:_&&/(opera|opr).*android|android.*(opera|opr)/i.test(f),isNativeAndroidMobile:c(),isUCBrowserMobile:_&&/ucbrowser/i.test(f),iOSVersion:function(){if(t()){var e=f.match(d);return e&&parseFloat(e[1].split("_").slice(0,2).join("."))}}(),hideVirtualKeyboard:function(e){},checkLandscape:e,getZoomLevel:function(){var e=window.document.documentElement.clientWidth,t=1.45<e/window.document.documentElement.clientHeight,n=window.screen.width,i=window.screen.height;t&&n<i&&(n=window.screen.height,i=window.screen.width);var o=window.innerWidth,r=e/n;window.devicePixelRatio&&c()&&!l.isIOS?r*=window.devicePixelRatio:a()&&(r*=1.5);var s=e/o/r;return s=(s/m.MOBILE_ZOOM_ADDITIONAL).toFixed(2)},getOffset:function(){var e=window,t=e.document.documentElement,n=e.document.body,i=null,o={top:0,left:0};if(s(t.getBoundingClientRect)&&(s(e.getComputedStyle)?"relative"==e.getComputedStyle(n).position?i=n:"relative"==e.getComputedStyle(t).position&&(i=t):n.currentStyle?"relative"==n.currentStyle.position?i=n:"relative"==t.currentStyle.position&&(i=t):"relative"==n.style.position?i=n:"relative"==t.style.position&&(i=t)),i){var r=i.getBoundingClientRect();o.top=r.top+e.pageYOffset-t.clientTop,o.left=r.left+e.pageXOffset-t.clientLeft}return o},MOBILE_ZOOM_ADDITIONAL:1.2},g=640,v=320;return b.exports=m,w(m,"meshim_widget_utils_Mobile"),m}()}).call(e,y(1))},function(n,e,t){(function(t){n.exports=function(){function e(){var e=window.navigator.userAgent||"",t=window.navigator.vendor||"",n=e||t||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))}return n.exports=e,t(e,"meshim_widget_utils_isMobileBrowser"),e}()}).call(e,t(1))},function(c,e,I){(function(e,a){c.exports=function(){function l(){var e=u.$("livechat").$("account").$("status$string").getValue();return-1<n(e,o)}var u,h,d,f=I(36),p=I(5),_=I(4),t=I(8),n=I(6),m=I(13),g=I(14),v=I(46),w=I(16),i=I(47),b=I(23),y=I(32),o=["banned","invalid_account_key"],$={last_host:"connection.server$string",chatting:"livechat.channel.chatting$bool",account_status:"livechat.account.status$string",settings:"livechat.settings",ui:"livechat.ui",notification:"livechat.profile.notification",departments:"livechat.departments",log:"livechat.channel.log",read:"livechat.channel.read",features:"livechat.features",gates:"livechat.gates"},E=["livechat.settings.cached$bool","livechat.ui.chat_window.menu_stack_name$string","livechat.ui.chat_window.pre_chat_form.submitted$bool","livechat.ui.post_chat_form.stack_index$int","livechat.ui.offline_form.stack_index$int","livechat.ui.theme_reload$bool","livechat.ui.theme_loaded$bool","livechat.ui.popout$bool","livechat.ui.mobile$bool","livechat.ui.mobile_overlay$bool","livechat.ui.mobile_notifications$bool","livechat.ui.chat_window.chat_panel.file_toast.error$string","livechat.ui.departments.filter_enabled$bool"],x=0,S=!1,k={sendChatMsg:function(e,t){i.sendChatMsg(e,t)},sendFile:function(e){var t=parseInt(d.getServerTime().toFixed(0),10),n=t+"";return u.$("livechat").$("channel").$("log").$(n).write({timestamp$int:t,nick$string:u.$("livechat").$("profile").$("nick$string").getValue()||"",display_name$string:u.$("livechat").$("profile").$("display_name$string").getValue()||"",type$string:"chat.file.upload",file_name$string:e.file_name||"",file_type$string:e.file_type||"",file_size$int:e.file_size||0,unverified$bool:!0,__client$bool:!0}),t},updateProfile:function(e){if(e){var t={};return"name"in e&&(t.display_name$string=e.name+""),"email"in e&&(t.email$string=e.email+""),"phone"in e&&(t.phone$string=e.phone+""),"department_id"in e&&(t.department_id$int=e.department_id),u.$$("livechat.profile").write(t),!0}},clearAll:function(){w.clearAll(),u.$("livechat").$("ui").$("chat_button").$("unread_count$int").update(0),u.$$("livechat.channel").update(null),u.$$("profile").update(null)},reconnect:function(){u.$$("connection").update({reconnect$bool:!0})},canStoreCookie:function(){var e=u.$$("livechat.settings.cookie_law.enabled$bool").getValue(),t=u.$$("livechat.profile.allow_cookies$bool").getValue();return!e||!1!==t},doExternalLogin:function(e){if(!h){var t=u.$$("livechat.account.key$string").getValue(),n=u.$$("livechat.profile.mid$string").getValue();e&&t&&n&&window.open(b.getAuthLoginUrl(e,t,n),r+t,u.$$("livechat.ui.mobile$bool").getValue()?"":s)}},doExternalLogout:function(){u.$$("livechat.profile.auth.type$string").getValue()?(u.$$("livechat.profile.auth").write({type$string:null}),u.$$("livechat.profile").update({display_name$string:"",email$string:""})):u.$$("livechat.profile").write({display_name$string:"",email$string:""})},endChat:function(){u.$$("livechat.channel").write({chatting$bool:!1})},getLimit:function(){return u.$$("livechat.ui.mockup$bool").getValue()?100:x},isAccountError:l},r="zlivechatexternallogin_",s="width=500,height=500,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=no",O=_.extend({init:function(e,t,n){if(S=!0,O.root=u=e instanceof m?e:new m("root"),d=n,g.ACCOUNT_KEY||t){t&&(h=t,u.$$("livechat.ui.mockup$bool").update(!0)),y.isMobileBrowser&&(u.$$("livechat.ui.mobile$bool").update(!0),y.isMobileWhitelist&&u.$$("livechat.ui.mobile_whitelist$bool").update(!0),y.isMobileTablet&&u.$$("livechat.ui.tablet$bool").update(!0)),window.$zopim_popout?u.$$("livechat.ui.popout$bool").update(!0):t||f.setIFrameOnly(!0);var i,o=function e(t){if("object"!=typeof t||!t)return t;var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return t.hasOwnProperty(A)&&(n[A]=e(t[A])),n}(v);if(!h)for(var r in $)if($.hasOwnProperty(r)){var s=w.DOM.getVariable(r);"log"==r&&s&&"object"==typeof s&&u.$("livechat").$("temp").update({prev_log:s}),"settings"==r&&s&&b.getKeys(s).length&&u.$("livechat").$("settings").update({cached$bool:!0}),"object"==typeof s?(i=b.getKeys(s))&&i.length&&b.fullyExtend(b.descendsObj(o,$[r]),s):b.insertObj($[r],s,o)}if(u.update(o),!h&&!l()){var a=p.isIOS?"unload":"beforeunload";_.window.on(a,function(){try{!function(){if(k.canStoreCookie()){var e,t,n=new m("root");n.update(u.getValue());for(var i=0,o=E.length;i<o;i++)n.$$(E[i]).update(null);for(e in $)if($.hasOwnProperty(e)){switch(e){case"settings":t=d.getServerSettings("settings");break;case"log":t=n.$("livechat").$("channel").$("chatting$bool").getValue()?b.getLastLogEntries(u.$$($[e]),g.CHAT_LOG_REMEMBER_COUNT):null;break;default:t=n.$$($[e]).getValue()}w.DOM.saveVariable(e,t)}n=null}}()}catch(e){}})}var c=w.getAllowCookieLaw();"boolean"==typeof c&&u.$$("livechat.profile").update({allow_cookies$bool:c}),u.$$("livechat.settings.package").on("value",function(e){e&&("color_customization_enabled$int"in e&&e.color_customization_enabled$int&&(x=1),"widget_customization_enabled$int"in e&&e.widget_customization_enabled$int&&(x=2))}),O.fire("init")}},root:u,livechat:k,afterInit:function(e){t(e)&&(S?e():O.on("init",e))}}),A="toString";return c.exports=O,a(O,"meshim_widget_controllers_DataController"),O}()}).call(e,I(35),I(1))},function(i,e,t){(function(n){i.exports=function(){function t(){}function e(e){return t.prototype=e,new t}return i.exports=e,n(e,"jx_core_globals_clone"),e}()}).call(e,t(1))},function(h,e,d){(function(e){var t,n,i,o,r,s,a,c,l,u;h.exports=(t=d(37),n=d(4),i=d(38),o=d(45),r=d(39),s=d(44),a=d(40),c=d(10),l=t.REGEX,u={},n.extend(u),u.generateAll=i.generateAll,u.generate=i.generate,u.writeChanges=i.writeChanges,u.setPalette=o.setPalette,u.delPalette=o.delPalette,u.delPalettes=o.delPalettes,u.appendPalette=o.appendPalette,u.getPalette=o.getPalette,o.initDefaultPalette(),u.setIFrameOnly=r.setIFrameOnly,u.bindIFrame=r.bindIFrame,u.unbindIFrame=r.unbindIFrame,u.transform2CSS=s,u.getVariable=function(e){for(var t=a.palettes,n=a.priorities,i=n.length-1;0<=i;i--)if(n[i]&&t[n[i]]&&(t[n[i]][e]||c(t[n[i]][e])))return l.isVariable.test(t[n[i]][e])?u.getVariable(t[n[i]][e].toString().slice(2)):t[n[i]][e]},u.reload=function(){u.writeChanges(!0)},h.exports=u,e(u,"jx_core_JCSS"),u)}).call(e,d(1))},function(n,e,t){(function(e){var t;n.exports=(t={REGEX:{space:/ /g,repeatingLinearGradient:/^\s*repeating-linear-gradient/,prependFQName:/^(\*\*self|)(?!.+?keyframes)/,prePrependFQName:/^(?!\*\*self)/g,replacePseudo:/\:\:\:([A-Za-z_\-.]+)/g,replaceAppend:/ +?&/g,placeholder:/::placeholder$/,replaceVariables:/(?:(?:([A-Za-z\-]+):)??(?:& *:)?\$\$([A-Za-z_\.]+))(?=;)/g,replaceLeftovers:/(?:(?:[A-Za-z\-]+:)??(?:& *:)?(\$\$[A-Za-z_\.]*?)??)(?=;)/g,replaceMedia:/(.*)(@media.*)@mediaend(.*)/,commaStart:/^,/,selectorCase:/([A-Z]+)/g,removePrefix:/^\$\$/,isVariable:/\$\$[A-Za-z_]+/},join:function(e){return e.join("")}},n.exports=t,e(t,"jx_core_jcss_modules_JCSSUtils"),t)}).call(e,t(1))},function(y,e,$){(function(n){y.exports=function(){function i(e,t,n,i,o,r){if(n)if(e||o){var s;t=t?"."+t.trim().replace(m.space,"."):"",n=n||{},i="_"+(i||""),s=function e(t){var n=t.prototype.__jx__fqname;if(l.cached_fqname[n])return l.cached_fqname[n];l.cached_fqname[n]={};var i=[],o=t.__jx__jcss||{},r=_(o,"","**self",!0).join("\n");t&&t.prototype.__jx__super&&i.push(e(t.prototype.__jx__super));i.push(r);l.cached_fqname[n]=i.join("\n");return l.cached_fqname[n]}(o=o||e.__jx__constructor).replace(/\*\*self/g,t),l.cache[i]=l.cache[i]||[],v[i]=v[i]||[],l.cache[i].push(s),v[i].push(s),w[i]=!!r,c||(c=u.schedule(a,this))}else if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw"JCSS must be called with a JXML node or class"}function a(e){c&&(c=u.clearSchedule(c));var t,n,i=e?l.cache:v;for(n in function(){var e,t,n,i={};for(t in g={},l.palettes)if(l.palettes.hasOwnProperty(t))for(e in n=p(t,l.priorities),l.palettes[t])l.palettes[t].hasOwnProperty(e)&&(isNaN(i[e])||n>i[e])&&(l.palettes[t][e]||d(l.palettes[t][e]))&&(g[e]=l.palettes[t][e],i[e]=n)}(),i)if(i.hasOwnProperty(n)){if(!i[n])continue;t=i[n].join("\n").replace(m.replaceVariables,r),s.getIFrameOnly()||h.setStyleSheet(document,"jcss"+n,t,e||w[n]);for(var o=0;o<b.length;o++)h.setStyleSheet(b[o].idoc,"jcss"+n,t,e||w[n]);l.cache_replaced[n]=e?t:(l.cache_replaced[n]||"")+t,w[n]=!1}v={},{_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG&&(window.__jcss__replaced=t),this.fire("write",t)}function r(e,t,n){for(;g[n]||d(g[n]);)n=g[n].toString().replace(m.removePrefix,"");return t?f.toStyle(t,n):n||""}var c,e=$(37),s=$(39),o=$(25),l=$(40),u=$(42),h=$(41),d=$(10),f=$(43),p=$(6),_=$(44),m=e.REGEX,t={generateAll:function(e){var t;for(var n in o)o.hasOwnProperty(n)&&(t=o[n])&&t.prototype&&t.__jx__jcss&&!t.__jx__jcss_generated&&(i.call(this,null,t.prototype.__jx__fqname,t.__jx__jcss,null,t),t.__jx__jcss_generated=!0);e||a.call(this)},generate:i,writeChanges:a},g={},v={},w={},b=s.getIFrames();return y.exports=t,n(t,"jx_core_jcss_modules_JCSSGenerator"),t}()}).call(e,$(1))},function(a,e,c){(function(e){var t,o,r,n,i,s;a.exports=(o=c(40),r=c(41),n=c(17),i={bindIFrame:function(e){for(var t=0,n=s.length;t<n;t++)if(e===s[t])return;for(var i in s.push(e),o.cache)o.cache.hasOwnProperty(i)&&r.setStyleSheet(e.idoc,"jcss"+i,o.cache_replaced[i])},unbindIFrame:function(e){for(var t=0,n=s.length;t<n;t++)e===s[t]&&s.splice(t,1)},setIFrameOnly:function(e){t=n(e)},getIFrameOnly:function(){return t},getIFrames:function(){return s}},s=[],a.exports=i,e(i,"jx_core_jcss_modules_JCSSIFrame"),i)}).call(e,c(1))},function(n,e,t){(function(e){var t;n.exports=(t={cached_fqname:{},cache:{},cache_replaced:{},palettes:{},priorities:[]},n.exports=t,e(t,"jx_core_jcss_modules_JCSSStore"),t)}).call(e,t(1))},function(n,e,i){(function(e){var t,s;n.exports=(t={setStyleSheet:function(e,t,n,i){e||(e=document);var o=function(e,t){if(t){e||(e=document);for(var n=0,i=e.styleSheets.length;n<i;n++)if((e.styleSheets[n].ownerNode&&e.styleSheets[n].ownerNode.getAttribute("__jx__stylesheet_id")||e.styleSheets[n].owningElement&&e.styleSheets[n].owningElement.getAttribute("__jx__stylesheet_id"))==t)return e.styleSheets[n].ownerNode&&e.styleSheets[n].ownerNode||e.styleSheets[n].owningElement&&e.styleSheets[n].owningElement}}(e,t);if(o)if(i)o.styleSheet?o.styleSheet.cssText=n:o[s?"textContent":"innerText"]=n;else if(o.styleSheet)o.styleSheet.cssText=[o.styleSheet.cssText,n].join("");else{var r=e.createTextNode(n);o.appendChild(r)}else if(o=e.createElement("style"),e.getElementsByTagName("head")[0].appendChild(o),o.type="text/css",t&&o.setAttribute("__jx__stylesheet_id",t),void 0!==o.styleSheet){if(!o.styleSheet)return{_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG&&console.log("IE stylesheet limit reached"),e.getElementsByTagName("head")[0].removeChild(o),void(o=null);o.styleSheet.cssText=n}else o[s?"textContent":"innerText"]=n}},s=i(5).isTextContent,n.exports=t,e(t,"jx_core_jcss_modules_JCSSStyleSheet"),t)}).call(e,i(1))},function(f,e,t){(function(d){f.exports=function(){function t(){u=-u,r.data=u}function n(){setTimeout(i,0)}function i(){for(var e=0;e<c.length;e++){var t=c[e],n=t.cb,i=t.self;n.call(i)}a=!(c=[])}function o(){}var r,s,e={schedule:function(e,t){if("function"==typeof e){var n=h++;return c.push({cb:e,self:t,id:n}),a||(s(),a=!0),n}if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw"JCSSAsap: argument is not a function"},clearSchedule:function(e){for(var t=c.length-1;0<=t;t--)c[t].id===e&&(c[t].cb=o)}},a=!1,c=[],l=window.MutationObserver||window.WebKitMutationObserver,u=1,h=1;return function(){if(l){var e=new l(i);r=document.createTextNode(""),e.observe(r,{characterData:!0}),s=t}else s=n}(),f.exports=e,d(e,"jx_core_jcss_modules_JCSSAsap"),e}()}).call(e,t(1))},function(f,e,p){(function(d){f.exports=function(){function r(e){return e.replace(o.selectorCase,"-$1").replace(o.commaStart,"").toLowerCase()}function s(e,t,n){return e+":"+t+(n?"!important;":";")}function a(e){return"string"!=typeof e?"":"rgb"==(t="#"==e.charAt(0)?e.substring(1):e).slice(0,3)?c(t):(3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),"#"+t);var t}function c(e,t){return 3==(e=(e=e.slice(5,-1)).split(",")).length||t?"#"+n(e[0])+n(e[1])+n(e[2]):(e[3]=(255*parseFloat(e[3],10)).toFixed(),"#"+n(e[3])+n(e[0])+n(e[1])+n(e[2]))}function n(e){return 1==(e=parseInt(e,10).toString(16)).length&&(e="0"+e),e}var e=p(37),i=p(5),o=e.REGEX,t={toStyle:function(e,t){var n;if(function(){function e(e){if(e in o)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=i.length;n--;)if(i[n]+t in o)return"-"+i[n].toLowerCase()+"-"+r(e);return e}for(var i=["Moz","webkit","ms"],o=document.createElement("div").style,t=l.length;t--;){var n=l[t];u[n]=e(n)}}(),t+="",o.isVariable.test(t))return e+":"+t+";";switch("!important"===t.substr(-10)&&(n=!0,t=t.substr(0,t.length-10).trim()),!0){case"background"===e:return function(e,t){var n,i=[];switch((n=e.split(" "))[0]){case"linear-gradient":n.splice(0,1),e=n.join(" "),i.push(s("background","-webkit-linear-gradient"+e,t),s("background","-o-linear-gradient"+e,t),s("background","-moz-linear-gradient"+e,t),s("background","-ms-linear-gradient"+e,t),s("background","-linear-gradient"+e,t));break;case"gradient":var o,r;i.push(s("background",function(t,n){function e(e){return(16*Math.round((parseInt(t.substring(e,e+2),16)+parseInt(n.substring(e,e+2),16))/32)).toString(16)}"rgb"==t.slice(0,3)&&(t=c(t,!0)),"rgb"==n.slice(0,3)&&(n=c(n,!0)),t=a(t).substring(1),n=a(n).substring(1);var i=e(0),o=e(2),r=e(4);return"#"+i+o+r}(n[2],n[3]),t)),"top"==n[1]&&(o="bottom"),"left"==n[1]&&(o="right"),"right"==n[1]&&(o="left"),"bottom"==n[1]&&(o="top"),r=h(["(",n[1],",",n[2],",",n[3],")"]),i.push(s("background","-o-linear-gradient"+r,t),s("background","-moz-linear-gradient"+r,t),s("background","-ms-linear-gradient"+r,t),s("background","linear-gradient"+r,t)),"left"==n[1]||"right"==n[1]?(i.push(s("background",h(["-webkit-gradient(linear,",n[1]," center,",o," center,","from(",n[2],"),to(",n[3],"))"]))),r=h(["progid:DXImageTransform.Microsoft.gradient(startColorstr=",a(n[2]),", endColorstr=",a(n[3]),", GradientType=1)"])):(i.push(s("background",h(["-webkit-gradient(linear,","center ",n[1],",","center ",o,",","from(",n[2],"),to(",n[3],"))"]))),r=h(["progid:DXImageTransform.Microsoft.gradient(startColorstr=",a(n[2]),", endColorstr=",a(n[3]),")"])),i.push(s("filter",r,t),s("-ms-filter",r,t));break;default:i.push(s("background",e,t))}return i.join("")}(t,n);case"display"===e:return i.bugs.noBoxSizing&&"inline-block"==t?""+s("display","inline",n)+s("zoom","1",n):s("display",t,n);case e in u:return s(u[e],t,n);default:return s(r(e),t,n)}}},l=["animation","userSelect","appearance","transform","transformOrigin"],u={},h=e.join;return f.exports=t,d(t,"jx_core_jcss_modules_JCSSConverter"),t}()}).call(e,p(1))},function(n,e,i){(function(t){n.exports=function(){function p(e,t,n,i,o){var r,s,a,c,l,u,h=[],d=[];for(r in e)if(e.hasOwnProperty(r)){if(s=e[r],a=void 0,"@keyframes"==r){for(var f in s)s.hasOwnProperty(f)&&(u=f+" { "+p(s[f]).join(" ")+" } ",d.push("@-webkit-keyframes "+u,"@-moz-keyframes "+u,"@-ms-keyframes "+u,"@-o-keyframes "+u,"@keyframes "+u));continue}switch("@media"==r.slice(0,6)&&(r=[r,"@mediaend"].join("")),typeof s){case"boolean":case"number":case"string":for(c=0,l=(a=r.split(",")).length;c<l;c++)h.push(_.toStyle(a[c],s));break;default:if(m(s)){for(c=0,l=s.length;c<l;c++)h.push(_.toStyle(r,s[c]));break}if(v.placeholder.test(r))for(u=r.replace(v.placeholder,""),a=[],c=0,l=w.placeholder.length;c<l;c++)a.push(b([u,w.placeholder[c]]));for(m(a)||(a=r.split(",")),c=0,l=a.length;c<l;c++)d=d.concat(p(s,a[c].trim()))}}if(h.length&&(o||(h.unshift("{"),h.push("}")),d.push(h.join(""))),t||n||i&&!(g.isIE<9))for(c=0,l=d.length;c<l;c++)t&&(d[c]=[t.replace(v.replacePseudo,".$1")," ",d[c]].join("")),n&&(d[c]=d[c].replace(v.prePrependFQName," ").replace(v.prependFQName,n)),i&&(d[c]=d[c].replace(v.replaceAppend,"")),i&&-1!==d[c].indexOf("@media")&&(d[c]=d[c].replace(v.replaceMedia,"$2 { $1 $3 }"));return d}var e=i(37),_=i(43),m=i(19),g=i(5),v=(i(6),e.REGEX),w={placeholder:["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder",".placeholder"]},b=e.join;return n.exports=p,t(p,"jx_core_jcss_modules_transform2CSS"),p}()}).call(e,i(1))},function(l,e,u){(function(c){l.exports=function(){function e(e,t,n){if(e=function e(t,n,i){if(t){for(var o in n||(n={}),i?i+=".":i="",t)t.hasOwnProperty(o)&&("object"==typeof t[o]?e(t[o],n,i+o):n[i+o]=t[o]);return n}}(e)||{},t=t||s,n=parseInt(n,10),o.palettes[t]||!isNaN(n)){if(!isNaN(n)&&n<0){if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw"JCSS: Priority must be a positive integer"}else if(t!=s||isNaN(n)||n==a){if(o.priorities[n]&&o.priorities[n]!=t){if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw"JCSS: Priority "+n+' is already used by palette "'+t+'"'}else if(o.palettes[t]=e,!isNaN(n)){var i=r(t,o.priorities);-1!=i&&(o.priorities[i]=void 0),o.priorities[n]=t}}else if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw"JCSS: Cannot set priority of the default palette"}else if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw'JCSS: Must specify priority for new palette "'+t+'"'}function t(){e({},s,a)}var o=u(40),r=u(6),n=u(10),s="__jcss__default",a=0,i={initDefaultPalette:t,setPalette:e,delPalette:function(e){var t;if(e)if(n(e)){if(!o.priorities[e])return;delete o.palettes[o.priorities[e]],o.priorities[e]=void 0}else{if(!o.palettes[e])return;t=r(e,o.priorities),delete o.palettes[e],o.priorities[t]=void 0}},delPalettes:function(){o.palettes={},o.priorities.length=0,t()},appendPalette:function(){if({_RELEASE:!0,_EXPORTED_LIB:!0,NODE_ENV:"production"}._DEBUG)throw"not implemented yet :("},getPalette:function(e){return e=e||s,o.palettes[e]||{}}};return l.exports=i,c(i,"jx_core_jcss_modules_JCSSPalette"),i}()}).call(e,u(1))},function(i,e,o){(function(e){var t,n;i.exports=(t=o(24),n={livechat:{timestamp$int:+new Date,settings:{behavior:{do_not_display$bool:!1},theme:{name$string:"simple",message_type$string:"bubble_avatar",colors:{placeholder$string:"_"},chat_button:{position$string:"br",position_mobile$string:"br"},chat_window:{position$string:"br",size$string:"medium",profile_card:{display_avatar$bool:!0,display_rating$bool:!0,display_title_name$bool:!0},use_banner$bool:!0,title_bar:{hide_minimize$bool:!1,hide_popout$bool:!1}},branding:{type$string:"icon_font_zopim"}},greetings:{online$string:t("Chat With Us"),offline$string:t("Leave a Message")},banner:{enabled$bool:!0,layout$string:"image_right",text$string:t("Chat with us"),image_path$string:"",image_data$string:""},chat_button:{hide_when_offline$bool:!1},chat_window:{mobile_mode$string:"popout",title_bar:{title$string:t("support"),status_messages:{online$string:t("We're online."),away$string:t("We're away."),offline$string:t("We're offline.")}}},login:{allowed_types:{email$bool:!0,facebook$bool:!0,twitter$bool:!1,google$bool:!0},phone_display$bool:!1,restrict_profile$bool:!1},concierge:{display_name$string:t("Live Support"),title$string:t("Ask us anything"),avatar_path$string:"",avatar_data$string:"",greeting:{enabled$bool:!1,message$string:t("Hi, welcome to our website!")}},branding:{hide_branding$bool:!1,hide_favicon$bool:!1,custom_favicon_path$string:""},language:{language$string:"--"},cookie_law:{enabled$bool:!1},sound:{disabled$bool:!1},popout:{enabled$bool:!0},rating:{enabled$bool:!0},end_chat_menu:{enabled$bool:!0,message$string:""},emoticons:{enabled$bool:!1},bubble:{enabled$bool:!0,title$string:t("Questions?"),text$string:t("Click here to chat with us")},forms:{pre_chat_form:{required$bool:!1,profile_required$bool:!1,message$string:"",form:{0:{name$string:"name",required$bool:0},1:{name$string:"email",required$bool:0},2:{label$string:t("Choose a Department"),name$string:"department",required$bool:0,type$string:"department"},3:{label$string:t("Message"),name$string:"message",required$bool:0,type$string:"textarea"},4:{label$string:t("Phone"),name$string:"phone",required$bool:0,type$string:"text",hidden$bool:!0}}},offline_form:{message$string:t("Sorry, we aren't online at the moment. Leave a message and we'll get back to you."),message_disabled$string:t("Sorry, we aren't online at the moment."),post_submit_message$string:t("Thanks for the message! We'll get back to you as soon as we can."),profile_required$bool:!0,form:{0:{name$string:"name",required$bool:1},1:{name$string:"email",required$bool:1},2:{label$string:t("Message"),name$string:"message",required$bool:1,type$string:"textarea"},3:{label$string:t("Phone"),name$string:"phone",required$bool:0,type$string:"text",hidden$bool:!0}}},post_chat_form:{header$string:t("Nice chatting with you!"),message$string:t("How would you rate the chat experience you just had?"),comments_enabled$bool:!0,comments_messages:{good:{message$string:t("Thanks for the good rating! Would you like to leave a comment?"),placeholder$string:t("What did you like about this chat?")},bad:{message$string:t("Sorry that we disappointed you. We'd appreciate it if you could tell us how to improve."),placeholder$string:t("What did you dislike about this chat?")}}},card_form:{}}}}},i.exports=n,e(n,"meshim_widget_controllers_DefaultDataNode"),n)}).call(e,o(1))},function(n,e,i){(function(e){n.exports=function(){function c(e){return t[e]||"UNKNOWN_ERROR"}var g,v,l,u=i(11),h=i(29),d=i(48),w=i(14),b=i(49),f=i(18),p=i(23),t={TOO_LARGE:"EXCEED_SIZE_LIMIT",ILLEGAL_TYPE:"INVALID_EXTENSION",NO_SESSION:"INTERNAL_ERROR",UNEXPECTED_ERROR:"INTERNAL_ERROR",UNABLE_TO_GET_SETTINGS:"INTERNAL_ERROR",S3_UPLOAD_ERROR:"INTERNAL_ERROR",NO_GATES:"INTERNAL_ERROR",FILE_UPLOADS_DISABLED:"NOT_ALLOWED",FILE_UPLOADS_TEMPORARILY_DISABLED:"INVALID_PLAN"},_={FILE_SENDING_ERRORS:{NOT_SUPPORTED:"NOT_SUPPORTED",NOT_ALLOWED:"NOT_ALLOWED",CONN_ERROR:"CONN_ERROR",INVALID_EXTENSION:"INVALID_EXTENSION",INVALID_PLAN:"INVALID_PLAN",EXCEED_SIZE_LIMIT:"EXCEED_SIZE_LIMIT",INTERNAL_ERROR:"INTERNAL_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR"},init:function(e,t){v=t,(g=e).$("livechat").$("channel").$("department_id$int").on("value",function(e){e&&(l=e)})},sendChatMsg:function(e,t,n){var i=parseInt(t,10)||parseInt(v.getServerTime().toFixed(0),10),o=i+"",r=g.$("livechat").$("profile"),s=l,a=(e.msg||"")+"";"department"in e&&(s=e.department),g.$("livechat").$("channel").$("log").$(o).write({timestamp$int:i,type$string:"chat.msg",msg$string:a,nick$string:r.$("nick$string").getValue()||"",display_name$string:r.$("display_name$string").getValue()||"",department_id$int:s,unverified$bool:!0,__client$bool:!0},n)},sendFiles:function(e,t){var n=_._validateAndPrepareData(e);if(u(n))return n;var i,o,r,s=(i={file_name:n.name,file_type:n.type,file_size:n.size},o=parseInt(t,10)||parseInt(v.getServerTime().toFixed(0),10),r=o+"",g.$("livechat").$("channel").$("log").$(r).write({timestamp$int:o,nick$string:g.$("livechat").$("profile").$("nick$string").getValue()||"",display_name$string:g.$("livechat").$("profile").$("display_name$string").getValue()||"",type$string:"chat.file.upload",file_name$string:i.file_name||"",file_type$string:i.file_type||"",file_size$int:i.file_size||0,unverified$bool:!0,__client$bool:!0}),o),a="https://"+n.host+w.FILE_UPLOAD_PATH,c={ts:s},l={"X-Zopim-MID":n.mid,"X-Zopim-UID":n.uid};_._uploadFiles(n.form_data,a,c,l)},sendFileWithCallback:function(e,t){var n=_._validateAndPrepareData([e]);if(t=d.once(t),u(n))h(function(){t(new window.Error(n))});else{var i=v.registerCallback(function(e){return"ok"!==e.raw.__status?t(new window.Error(c(e.raw.error))):e.raw.data&&"chat.file"===e.raw.data.type?void t(null,p.pick(e.raw.data,["mime_type","name","size","url"])):t(new window.Error("INTERNAL_ERROR"))}),o="https://"+n.host+w.CALLBACK_FILE_UPLOAD_PATH,r={ts:parseInt(v.getServerTime().toFixed(0),10),__messageID:i},s={"X-Zopim-MID":n.mid,"X-Zopim-UID":n.uid},a={error:function(){t(new window.Error("CONN_ERROR"))},load:function(){if(200!==this.status){var e;try{e=JSON.parse(this.responseText)}catch(e){}t(e&&e.error?new window.Error(c(e.error)):new window.Error("INTERNAL_ERROR"))}}};_._uploadFiles(n.form_data,o,r,s,a)}},_validateAndPrepareData:function(e){if(!window.FormData)return"NOT_SUPPORTED";var t=g.$("livechat"),n=t.$("settings").$("file_sending"),i=t.$("settings").$("package"),o=n.$("enabled$bool").getValue(),r=void 0===o||o,s=(n.$("allowed_extensions$string").getValue()||"").trim().replace(/\s*,\s*/g,",").split(","),a=i.$("color_customization_enabled$int").getValue()||i.$("widget_customization_enabled$int").getValue(),c=t.$("profile").$("mid$string").getValue(),l=t.$("profile").$("uid$string").getValue(),u=v.getHost(),h=new window.FormData,d=[],f=[],p=0;if(!u)return"CONN_ERROR";if(!a)return"INVALID_PLAN";if(!r)return"NOT_ALLOWED";for(var _=0,m=e.length;_<m;_++){if(!b.isValidType(e[_].name,s))return"INVALID_EXTENSION";d.push(e[_].name),f.push(e[_].type),p+=e[_].size||0,h.append("file_"+e[_].name,e[_])}return p>w.FILE_UPLOAD_MAX?"EXCEED_SIZE_LIMIT":{form_data:h,name:d.join(", "),type:f.join(", "),size:p,host:u,mid:c,uid:l}},_uploadFiles:function(e,t,n,i,o){var r=new window.XMLHttpRequest,s=t+(Object.keys(n).length?"?"+f.buildQuery(n):"");if(r.upload){for(var a in r.open("POST",s,!0),i)i.hasOwnProperty(a)&&r.setRequestHeader(a,i[a]);for(var c in o)o.hasOwnProperty(c)&&r.addEventListener(c,o[c]);r.send(e)}}};return n.exports=_,e(_,"meshim_widget_controllers_ChatUtils"),_}()}).call(e,i(1))},function(n,e,i){(function(e){var r,t,s;n.exports=(r=i(8),t={bind:function(e,t){if(!r(e))throw new TypeError("FunctionUtils.bind - what is trying to be bound is not callable");if(r(e.bind)&&!("prototype"in e.bind))return e.bind.apply(e,s.call(arguments,1));var n=s.call(arguments,2),i=function(){},o=function(){return e.apply(this instanceof i&&t?this:t,n.concat(s.call(arguments)))};return i.prototype=o.prototype,o.prototype=new i,o},once:function(e){var t;return function(){if(!t)return t=!0,e.apply(this,s.call(arguments))}}},s=Array.prototype.slice,n.exports=t,e(t,"jx_core_FunctionUtils"),t)}).call(e,i(1))},function(g,e,v){(function(e){var r,s,t,i,o,n,a,c,l,u,h,d,f,p,_,m;g.exports=(t=v(24),i=v(6),o=v(9),n=t("File size too large. Maximum limit is <size>."),a=t("The file you are trying to send is not supported."),c=t("File sending is temporarily disabled. Please try again later."),l=t("<size> bytes"),u=t("<size> KB"),h=t("<size> MB"),d={ERR_SIZE:"TOO_LARGE",ERR_FORMAT:"ILLEGAL_TYPE",ERR_DISABLED:"FILE_UPLOADS_TEMPORARILY_DISABLED"},f=/^(x-|vnd\.)/i,p=["png","jpg","jpeg","gif","txt","pdf"],_={},m=t("Failed to send. Please try again."),_[d.ERR_SIZE]=n,_[d.ERR_FORMAT]=a,_[d.ERR_DISABLED]=c,d.prettySize=(r=[l,u,h],s=[0,1,2],function(e,t){e=Math.max(parseInt(e,10)||0,0);for(var n,i=(t=t||{}).base2?1024:1e3,o=r.length;o--;)if((n=Math.pow(i,o))<=e)return r[o].replace("<size>",(e/n).toFixed(s[o]))}),d.prettyType=function(e,t,n){n=n||window.Infinity;var i=e.split("/")[1];return(i=i&&i.replace(f,""))&&i.length<n?i.toLowerCase():((i=t.split(".").pop())||"").toLowerCase()},d.isValidType=function(e,t){if(e){t=t||p;var n=e.substr(e.lastIndexOf(".")+1).toLowerCase();return-1!==i(n,t)}},d.prettyError=function(e,t){var n=e in _?_[e]:m;return o(t)||(n=n.replace("<size>",d.prettySize(t||5e6))),n},d.blobToFile=function(e,t,n){return e.lastModifiedDate=new Date,e.name=t,new window.File([e],t,{type:n})},d.getExtension=function(e){var t=e.lastIndexOf(".");return-1===t?null:e.substr(t+1).toLowerCase()},g.exports=d,e(d,"meshim_common_FileUtil"),d)}).call(e,v(1))},function(e,t,w){(function(g,v){e.exports=function(){function s(e,t,n,i){if(!l)throw"No available transports";for(var o in this.provider=l,this.options=i=i||{},d)d.hasOwnProperty(o)&&(o in i||(i[o]=d[o]));g.extend(this),this.id=n||s.generateID(),this.host=e,this.ns=t,this.path="/"+["s",this.ns,this.provider.protocol,this.id].join("/"),this.url=this.host+this.path+"/",this.status="connecting",this.connected=!1,this.quality=0,this.rtt=i.INITIAL_RTT,this.clock_skew=0,this.connect_attempts=0,this.connections=0,this.disconnects=0,this.sent_bytes=0,this.recv_bytes=0,this.sent_messages=0,this.recv_messages=0,this.sent_frames=0,this.recv_frames=0,this.lost_frames=0,this.ooo_frames=0,this.remote_seq=0,this.local_seq=0,this.timeout_server=0,this.timeout_response_soft=0,this.timeout_response_hard=0,this.bytes_at_connect=-1,this.time_last_alive=-1,this.time_last_open=-1,this.starttime=+new Date,this.uptime=0,this.connected_time=new a,this.idle_time=new a,this.last_frame_time=0,this.raw_clock_skew=0,this.smooth_skewed_transit_time_in=0,this.remote_smooth_skewed_transit_time_out=0,this.cur_conn_recv_messages=0,this.drained=!0,this.buffer=[],this.glitch_timer=this.reconnect_timer=null,this.reconnect_delay=i.RECONNECT_DELAY_MS*(.2*Math.random()+.8),this.keep_alive_interval=15e3,this.data_packet_queue=new c(this),this.connect();var r=this;this.onoffline=function(){s.prototype.onoffline.call(r)},this.ononline=function(){s.prototype.ononline.call(r)},g.window.on("offline",this.onoffline),g.window.on("online",this.ononline)}function e(e){for(var t="",n=_;0<e--;)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function i(e,t,n){return Math.min(n,Math.max(t,e))}function a(){this.count=0,this.sum=0,this.sq_sum=0,this.mean=0,this.stddev=0}function c(e){this.socket=e,this.queue=[],this.curFrame=null,this.curIdx=0,this.last_work_finished_time=0,this.work_timer=null,this.processing=!1}var u=w(21),t=w(51),n=w(52),o=w(53),r=w(54),l=o||t||n||r,h=r,d={INITIAL_RTT:1e3,RECONNECT_DELAY_MS:3e4,FAST_RECONNECT_MS:100,FLUSH_DELAY_MS:75,MAX_BLOCKING_TIME_MS:40,MAX_NO_WORK_TIME_MS:15};s.available=function(){return!!l},s.generateID=function(){return e(16)},s.prototype.connect=function(e){if(this.debug("connect("+(e?"glitch":"")+")"),!this.reconnect_timer){var n=this,t=this.options;this.connections&&this.cur_conn_recv_messages||(this.provider=1&this.connect_attempts?h:l),this.response_timer=clearTimeout(this.response_timer),this.timeout_timer=clearTimeout(this.timeout_timer),this.socket&&(this.socket.onclose=this.socket.ondrain=this.socket.onerror=this.socket.onmessage=this.socket.onopen=null,this.socket.abort("connect"),this.socket=null),this.connected=!1,this.cur_conn_recv_messages=0,e&&(this.reconnect_delay=t.RECONNECT_DELAY_MS*(.2*Math.random()+.9),this.glitch_timer=setTimeout(function(){n.quality=0,n.glitch_timer=setTimeout(function(){n.status="reconnecting",n.fire_break()},i(3*n.rtt,1e3,5e3))},i(3*this.rtt,1e3,5e3))),this.debug("reconnect_delay: "+this.reconnect_delay),clearTimeout(this.reconnect_timer),this.reconnect_timer=setTimeout(function(){n.reconnect_timer=null,n.reconnect_delay=Math.min(1.4*n.reconnect_delay+1e3,6e4),n.reconnect_delay*=.2*Math.random()+.9,n.connect()},this.reconnect_delay),this.path="/"+["s",this.ns,this.provider.protocol,this.id].join("/"),this.url=this.host+this.path+"/",this.debug("connecting: "+this.url),this.socket=new this.provider(this.url),this.transport=this.provider.protocol,this.connect_attempts++,this.socket.onopen=function(){n.status="connected",n.glitch_timer=clearTimeout(n.glitch_timer),n.reconnect_timer=clearTimeout(n.reconnect_timer),n.connections++,n.drained=!0,n.connected=!0,n.time_last_open=n.time_last_alive=+new Date,0<=n.uptime&&(n.uptime-=n.time_last_open),1==n.connections?n.fire("open"):n.fire_resume(),n.flush(),n.keep_alive(),n.debug("connected"),-1==n.bytes_at_connect&&setTimeout(function(){n.bytes_at_connect=n.recv_bytes},50)},this.socket.onmessage=function(e,t){n.onmessage(e,t)},this.socket.onclose=function(e){n._onclose(e)},this.socket.ondrain=function(e){n._ondrain(e)},this.socket.onerror=function(e){n._onerror(e)}}},s.prototype.reconnect=function(){this.reconnect_timer=clearTimeout(this.reconnect_timer),this.broken_reason="FORCED_RECONNECT",this.connect()},s.prototype.send=function(e,t){"disconnected"!=this.status&&("null"==this.buffer[0]&&(this.buffer=[]),this.buffer.push(u.stringify(e)),this.schedule_flush(),t&&this.response_timeout())},s.prototype.close=function(e){this.debug("close()"),this.flush_scheduled=clearTimeout(this.flush_scheduled),this.keep_alive_timer=clearTimeout(this.keep_alive_timer),this.reconnect_timer=clearTimeout(this.reconnect_timer),this.response_timer=clearTimeout(this.response_timer),this.timeout_timer=clearTimeout(this.timeout_timer),this.broken_reason||(this.broken_reason="CLOSE"),this.fire_break(),this.status=e?"reconnecting":"disconnected",this.connected=!1,this.quality=0,this.socket&&(this.socket.onclose=this.socket.ondrain=this.socket.onerror=this.socket.onmessage=this.socket.onopen=null,this.socket.abort("close"),this.socket=null,e||(g.window.un("offline",this.onoffline),g.window.un("online",this.ononline)))},s.prototype.hibernate=function(){},s.prototype.onoffline=function(){this.broken_reason="OFFLINE",this.debug("onoffline"),this.close(!0)},s.prototype.ononline=function(){this.debug("ononline"),"disconnected"==this.status||this.connected||(this.reconnect_timer=clearTimeout(this.reconnect_timer),this.connect())},s.prototype.schedule_flush=function(){if("disconnected"!=this.status&&!this.flush_scheduled&&this.drained&&this.connected){var e=this,t=this.options;this.flush_scheduled=setTimeout(function(){e.flush()},t.FLUSH_DELAY_MS)}},s.prototype.flush=function(){if("disconnected"!=this.status&&this.buffer.length&&this.drained&&this.connected){var e=this.buffer;this.sent_messages+=e.length,this.sent_frames++,e=this.generate_frame(e.join("\n")),this.drained=this.socket.send(e),this.sent_bytes+=e.length,this.flush_scheduled=clearTimeout(this.flush_scheduled),this.buffer=[],this.keep_alive(),this.time_last_alive=+new Date}},s.prototype.keep_alive=function(){if("disconnected"!=this.status){clearTimeout(this.keep_alive_timer);var e=this;this.keep_alive_timer=setTimeout(function(){e.debug("pong!"),e.send(null)},this.keep_alive_interval)}},s.prototype.response_timeout=function(){if(!this.response_timer){var e=this,t=i(4*this.rtt+this.options.FLUSH_DELAY_MS,2e3,2e4);this.response_timer=setTimeout(function(){e.timeout_response_soft++,e.debug("response timeout, "+t+"ms"),e.fire_break("SOFT_RESPONSE_TIMEOUT"),e.response_timer=setTimeout(function(){e.timeout_response_hard++,e.debug("response timeout - reconnecting"),e.broken_reason="HARD_RESPONSE_TIMEOUT",e.connect(!0)},2*t)},t)}},s.prototype.reset_server_timeout=function(){clearTimeout(this.timeout_timer);var e=this,t=4*this.keep_alive_interval+i(4*e.rtt,2e3,2e4);this.timeout_timer=setTimeout(function(){e.timeout_server++,e.debug("server "+t+"ms timeout, reconnecting"),e.broken_reason="SERVER_TIMEOUT",e.connect(!0)},t)},s.prototype.fire_break=function(e){this.broken||this.fire("break",e||this.broken_reason),this.broken=!0,this.broken_reason="",this.uptime<0&&(this.uptime+=+new Date)},s.prototype.fire_resume=function(){this.broken_reason="",this.broken&&this.fire("resume"),this.broken=!1,0<=this.uptime&&(this.uptime-=+new Date)},s.prototype.onmessage=function(e,t){if(this.recv_bytes+=e.length,(e=e.split("\n")).length<6)this.debug("Bad data: "+e.join("\n"));else{var n=+new Date,i=+e[0],o=+e[1],r=+e[2],s=(e[3],e[4]);switch(this.calculate_clocks(t||+new Date,i,o),this.reset_server_timeout(),s){case"a":this.broken_reason="ABORT",this.close();break;case"d":this.response_timer=clearTimeout(this.response_timer),this.fire_resume(),this.check_sequence(r),this.data_packet_queue.queueFrame(e,5,n);break;case"e":this.debug("server: Are you still there?"),this.send(null),this.flush();break;case"n":this.remote_seq=r,this.keep_alive_interval=+e[5]||15e3,this.debug("keep_alive is "+this.keep_alive_interval+"ms"),1<this.connections&&this.fire("reopen");break;case"p":this.debug("ping!")}}},s.prototype._onclose=function(e){var t=this,n=this.options;0==this.connections&&0==this.disconnects&&this.fire("close"),this.debug("_onclose"),this.disconnects++,this.broken_reason="HANGUP",this.connected?this.reconnect_timer=setTimeout(function(){t.reconnect_timer=null,t.connect(!0)},n.FAST_RECONNECT_MS):this.connections||1!=this.connect_attempts||(clearTimeout(this.reconnect_timer),this.reconnect_timer=setTimeout(function(){t.reconnect_timer=null,t.connect()},0)),this.connected=!1,clearTimeout(this.keep_alive_timer),0<this.time_last_alive&&this.idle_time.add(+new Date-this.time_last_alive),0<this.time_last_open&&this.connected_time.add(+new Date-this.time_last_open),this.time_last_alive=this.time_last_open=-1,this.uptime<0&&(this.uptime+=+new Date)},s.prototype._ondrain=function(){this.drained=!0,this.flush()},s.prototype._onerror=function(e){this.debug("_error"),this.fire("error",e)},s.prototype.generate_frame=function(e,t){return[+new Date,this.smooth_skewed_transit_time_in,++this.local_seq,this.remote_seq,t||"d",e].join("\n")};var f=Math.pow(50,.1),p=Math.pow(1e3,.1)-f;s.prototype.calculate_clocks=function(e,t,n){var i=e-t,o=1/(Math.max(0,e-this.last_frame_time)/45e3+1);this.smooth_skewed_transit_time_in?this.smooth_skewed_transit_time_in=o*this.smooth_skewed_transit_time_in+(1-o)*i:this.smooth_skewed_transit_time_in=i,this.remote_smooth_skewed_transit_time_out=n,this.smooth_skewed_transit_time_in&&this.remote_smooth_skewed_transit_time_out&&(this.rtt=this.smooth_skewed_transit_time_in+this.remote_smooth_skewed_transit_time_out,this.quality=~~(100*(1-(Math.pow(this.rtt,.1)-f)/p)),this.quality=Math.min(100,Math.max(0,this.quality)),this.raw_clock_skew=i-this.rtt/2,this.clock_skew?this.clock_skew=.9*this.clock_skew+.1*this.raw_clock_skew:this.clock_skew=this.raw_clock_skew),this.time_last_alive=this.last_frame_time=e},s.prototype.check_sequence=function(e){if(this.remote_seq+1==e)this.remote_seq=e;else if(this.remote_seq<e){var t=e-this.remote_seq+1;this.lost_frames+=t,this.fire("lost",t),this.remote_seq=e}else this.ooo_frames++,this.fire("out_of_order")},l&&(s.prototype.transport=l.protocol),s.prototype.debug=function(){};var _="+-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";s.genDate=function(){var e=_,t=new Date,n=t.getUTCFullYear()-2e3,i=t.getUTCMonth()+1,o=t.getUTCDate(),r=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=t.getUTCMilliseconds();return e[n]+e[i]+e[o]+e[r]+e[s]+e[a]+e[c>>6]+e[63&c]},s.genID=e,a.prototype.add=function(e){this.count++,this.sum+=e,this.sq_sum+=e*e,this.mean=this.sum/this.count,this.stddev=Math.sqrt(this.sq_sum/this.count-this.mean*this.mean)};var m=c.prototype;return m.queueFrame=function(e,t,n){this.queue.push({msgs:e,start_idx:t,receive_time:n}),this.process()},m.process=function(){var e=+new Date-this.last_work_finished_time;this.processing&&e<this.socket.options.MAX_NO_WORK_TIME_MS||(this.work_timer=window.clearTimeout(this.work_timer),this.processing=!0,this.work())},m.work=function(){for(var e,t,n,i=+new Date+this.socket.options.MAX_BLOCKING_TIME_MS,o=!1,r=this.socket.recv_frames,s=this,a=0;a<this.queue.length;a++){"start_time"in(e=this.queue[a])||(e.start_time=+new Date,e.ticks=0,e.idx=e.start_idx),e.ticks++,n=(t=e.msgs).length;for(;e.idx<n;){var c,l=+new Date;if(i<l){o=!0;break}this.socket.dispatch_delay=l-e.receive_time;try{c=u.parse(t[e.idx]),e.idx++}catch(n){this.socket.debug("Invalid json message: "+t[e.idx]);continue}this.socket.fire("message",c),this.socket.recv_messages++,this.socket.cur_conn_recv_messages++}if(e.idx>=n&&this.socket.recv_frames++,o)break}this.queue.splice(0,this.socket.recv_frames-r),this.queue.length?this.work_timer=window.setTimeout(function(){s.work()},0):this.processing=!1,this.last_work_finished_time=+new Date},v(s,"jx_io_Socket"),s}()}).call(t,w(4),w(1))},function(e,t,n){(function(u,n){e.exports=function(){function e(e){function t(e){l("extracting data"),!n&&o.onopen&&o.onopen(),n=e,r+=i.responseText.substr(s),s=i.responseText.length,r=r.split("\n\n");for(var t=0;t<r.length-1;t++)o.onmessage&&o.onmessage(r[t],n);r=r[r.length-1],(1048576<s&&!r.length||4194304<s)&&o.abort()}var n,i=this.xhr=new a,o=this,r="",s=0;this.url=c+e,i.open("GET",this.url+["c",+new Date].join("/"),!0),i.onerror=function(e){o.abort(e)},u.isIE?(i.onprogress=function(){t(+new Date)},i.onload=function(){o.abort("close")}):i.onreadystatechange=function(){switch(i.readyState){case 3:t(+new Date);break;case 4:o.abort("close")}},l("CXHR connecting to: "+this.url),i.send()}var a=u.isIE?window.XDomainRequest:!u.isOpera&&!u.isAndroid&&window.XMLHttpRequest,t=a?e:null,c=u.isIE?"//":"https://";e.protocol="cxhr",e.prototype.send=function(e){function t(){s.abort("send failed")}function n(){s.xhr_sender=null,clearTimeout(i),s.ondrain&&s.ondrain()}var i,o=this.url+["d",+new Date].join("/"),r=new a,s=this;return r.open("POST",o,!0),r.send(e),u.isIE?(r.onerror=t,r.onload=n):r.onreadystatechange=function(){4==r.readyState&&(200!=r.status&&t(),n())},i=setTimeout(t,5e3),this.xhr_sender=r,!1},e.prototype.abort=function(e){this._abort||(this._abort=!0,l(e),this.xhr&&this.xhr.abort(),this.xhr_sender&&this.xhr_sender.abort(),this.onclose&&this.onclose(e),this.onerror=this.onload=this.onprogress=this.onreadystatechange=this.xhr=this.xhr_sender=null)};var l=function(){};return n(t,"jx_io_socket_ChunkedXHR"),t}()}).call(t,n(5),n(1))},function(e,t,n){(function(n,i){e.exports=function(){function e(e){function t(e){!a&&c.onopen&&c.onopen(),a=+new Date,e.origin==i&&("event-stream"==e.data?l.onload=null:c.onmessage&&c.onmessage(e.data,a))}var n,i,o,r,s,a,c=this,l=this.iframe=(o="iframe",r=document.createElement(o),(s=r.style).position="absolute",s.width=s.height=0,s.overflow="hidden",r);this.url="https://"+e,l.src=this.src=n=this.url+["c",+new Date].join("/"),i=n.match(/https?:\/\/[^\/]+/)[0],l.onload=function(e){c.abort(e)},document.body.insertBefore(l,document.body.firstChild),u("SPM connecting to: "+this.url),window.addEventListener("message",t,!1),this.remove_listeners=function(){window.removeEventListener("message",t,!1)}}var t=window.postMessage?!n.isAndroid&&e:null;e.protocol="spm",e.prototype.send=function(e){return this.iframe.contentWindow.postMessage(e,this.src),!0},e.prototype.abort=function(e){this._abort||(this._abort=!0,u(e),this.iframe&&document.body.removeChild(this.iframe),this.onclose&&this.onclose(e),this.remove_listeners(),this.iframe=this.remove_listeners=null)};var u=function(){};return i(t,"jx_io_socket_StreamingPostMessage"),t}()}).call(t,n(5),n(1))},function(e,t,n){(function(n){e.exports=function(){function e(e){var t=new i("wss://"+e+["c",+new Date].join("/")),n=this;t.onclose=function(e){n.onclose&&n.onclose(e)},t.onerror=function(e){n.onerror&&n.onerror(e)},t.onmessage=function(e){n.onmessage&&n.onmessage(e.data,+new Date)},t.onopen=function(e){n.onopen&&n.onopen(e)},this.ws=t}var i=window.WebSocket||window.MozWebSocket,t=i?e:null;return e.prototype.abort=function(){if(!this._aborted){this._aborted=!0;var e=this.ws;e.readyState==i.CONNECTING?e.onopen=function(){e.close()}:e.close()}},e.prototype.send=function(e){return this.ws.send(e),!0},e.protocol="ws",n(t,"jx_io_socket_WebSocket"),t}()}).call(t,n(1))},function(e,t,s){(function(r,i){e.exports=function(){function e(e){var t=this,n=this.longpoll=new o(!0),i=this.sender=new o(!0);n.on("success",function(e){t.process_data(e)}),n.on("error",function(){t.abort("longpoll error")}),i.on("success",function(){t.ondrain&&t.ondrain()}),i.on("error",function(){t.abort("sender error")}),this.url="https://"+e,r.window.on("unload",this.unload=function(){t.abort("unload")}),this.longpoll.load(this.url+["c",+new Date].join("/"))}var t=e;e.protocol="xdds";var o=s(28);e.prototype.process_data=function(e){e&&!this._abort&&(!this.ts&&this.onopen&&this.onopen(),this.ts=+new Date,this.onmessage&&this.onmessage(e,this.ts),this.longpoll&&this.longpoll.load(this.url+["p",+new Date].join("/")))},e.prototype.send=function(e){if(this._abort)return!1;var t=this.url+["d",+new Date,window.encodeURIComponent(e)].join("/");return this.sender&&this.sender.load(t),!1},e.prototype.abort=function(e){this._abort||(this._abort=!0,n("XDDS - abort: "+e),r.window.un("unload",this.unload),this.longpoll.destroy(),this.sender.destroy(),this.longpoll=this.sender=this.unload=null,this.onclose&&this.onclose(e),window.CollectGarbage&&window.CollectGarbage())};var n=function(){};return i(t,"jx_io_socket_XDomainDynScript"),t}()}).call(t,s(4),s(1))},function(n,e,t){(function(e){var t;n.exports=(t={CLUSTERS:{US:["us08","us10","us12","us14","us16","us18","us20","us22","us24","us26","us28","us30","us32","us34","us36","us38","us40","us42","us44","us46"],DE:["de04","de06","de08","de10","de12","ie02","ie04","ie06","ie08","ie10","ie12","ie14","ie16","de14","de16","de18","de20","ie18","ie20","ie22","ie24","de22","de24","de26","de28"],SG:["sg06","sg08","sg10","sg12","sg14","sg16","sg18","sg20"],JP:["jp02","jp04","jp06","jp08"],AU:["au02","au04"],BR:["br02","br04","br06","br08","br10","br12"]},FALLBACKS:{US:["DE"],DE:["US"],SG:["US"],JP:["US"],AU:["SG","US"],BR:["US"]},NEAR_MAP:{AL:"DE",AD:"DE",AM:"DE",AT:"DE",BY:"DE",BE:"DE",BA:"DE",BG:"DE",CH:"DE",CY:"DE",CZ:"DE",DE:"DE",DK:"DE",EE:"DE",ES:"DE",EU:"DE",FO:"DE",FI:"DE",FR:"DE",GB:"DE",GE:"DE",GI:"DE",GR:"DE",HU:"DE",HR:"DE",IE:"DE",IM:"DE",IS:"DE",IT:"DE",LT:"DE",LU:"DE",LV:"DE",MC:"DE",MK:"DE",MT:"DE",NO:"DE",NL:"DE",PK:"DE",PO:"DE",PT:"DE",RO:"DE",SA:"DE",SE:"DE",SI:"DE",SK:"DE",SM:"DE",TR:"DE",UA:"DE",VA:"DE",ZA:"DE",NG:"DE",MA:"DE",AP:"SG",BD:"SG",BN:"SG",CN:"SG",ID:"SG",IN:"SG",LA:"SG",KH:"SG",LK:"SG",MM:"SG",MY:"SG",SG:"SG",TH:"SG",VN:"SG",AU:"AU",NZ:"AU",HK:"JP",KR:"JP",JP:"JP",PH:"US",RU:"JP",TW:"JP",AR:"BR",BO:"BR",BR:"BR",CL:"BR",PE:"BR",PY:"BR",UY:"BR",DEFAULT:"US"}},n.exports=t,e(t,"meshim_config_geo_WidgetMediatorsAccessDefinition"),t)}).call(e,t(1))},function(c,e,l){(function(r){c.exports=function(){function e(e,t){this.clusters_config=e,this.setGeoCode("geo"===n?i:n);try{if(t.length<=0)throw"SSI cluster definition not found";if("<"==t.charAt(0))throw"SSI not processed";this.clusters_config=JSON.parse(t)}catch(e){}}var s=l(57),t=l(12),n='\x3c!--# echo var="http_cf_ipcountry" default="geo" --\x3e'.toUpperCase(),i='\x3c!--# echo var="geoip_country_code" default="geo" --\x3e'.toUpperCase(),a=[".zopim.net",".zopim.org",".zdch.at"];"<"==n.charAt(0)&&(n="geo"),"<"==i.charAt(0)&&(i="geo"),e.SUPPORTED_DOMAINS=a;var o=e.prototype;return o.getGeoCode=function(){return this.countryCode},o.setGeoCode=function(e){var t;e&&"--"!==e&&(this.countryCode=e,t=e,window.__$__GEO=t)},o.updateClustersConfig=function(e){try{t.extend(this.clusters_config,JSON.parse(e))}catch(e){window.console&&window.console.log("Unable to process update")}},o.getGeoAccess=function(e,t,n,i,o,r){return new s(this.clusters_config,o||".zopim.com",this.countryCode,e,t,n,i,r||a)},c.exports=e,r(e,"meshim_common_GeoAccessFactory"),e}()}).call(e,l(1))},function(r,e,s){(function(i){r.exports=function(){function e(e,t,n,i,o,r,s,a){this.CLUSTERS=e.CLUSTERS,this.WEIGHTS=e.WEIGHTS,this.NEAR_MAP=e.NEAR_MAP,this.FALLBACKS=e.FALLBACKS,this.geo_code=n||"geo",this.default_domain=t,this.supported_domains=(a||[]).concat(this.default_domain);var c=l.map(this.supported_domains,u.escape);this.supported_proxy_re=new RegExp("^[a-z][a-z0-9_-]*(.[a-z][a-z0-9_-]*)*("+c.join("|")+")(:\\d+)?$","i"),this.cluster_hosts=[],this.host_list=[],this.host_index=0,this.last_connected_host=o&&this.getValidatedHost(o),this.override_proxy=i&&this.getValidatedHost(i),this.num_primary_hosts=r||0,this.num_fallback_hosts=s||0,this.init()}var a=s(10),o=s(6),l=s(58),u=s(59),n=/^([a-z][a-z0-9_-]*)(:\d+)?$/i,t=e.prototype;return t.init=function(){var e=this.geo_code&&this.geo_code in this.NEAR_MAP?this.NEAR_MAP[this.geo_code]:this.NEAR_MAP.DEFAULT;if(!e)throw"Error: no cluster code found for "+this.geo_code;if(e in this.CLUSTERS)this._growClusterHosts(e,this.num_primary_hosts);else if(!this.override_proxy&&!this.last_connected_host)throw"Error: "+e+" has no cluster definition";if(e in this.FALLBACKS)for(var t=this.FALLBACKS[e],n=0,i=t.length;n<i;n++){var o=t[n];o in this.CLUSTERS&&this._growClusterHosts(o,this.num_fallback_hosts)}this._makeHostList()},t._verifyHostInGeoConfig=function(t){var n=this;return Object.keys(n.CLUSTERS).some(function(e){return n.CLUSTERS[e].some(function(e){return t===n.getValidatedHost(e)})})},t._growClusterHosts=function(e,t){var n=this.CLUSTERS[e],i=this.getWeights(e);l.shuffle(n,i),t&&(n=n.slice(0,t)),this.cluster_hosts=this.cluster_hosts.concat(n)},t.getWeights=function(e){if(!(e in this.CLUSTERS))return[];var t,n=this.CLUSTERS[e],i=n.length,o=new Array(i);if(this.WEIGHTS&&this.WEIGHTS[e]){var r=this.WEIGHTS[e];for(t=i;t--;){var s=n[t];o[t]=a(r[s])?r[s]:1}}else for(t=i;t--;)o[t]=1;return o},t.getValidatedHost=function(e,t){if(e){if(!t&&n.test(e))return this._expandSimpleHost(e);if(this.supported_proxy_re.test(e))return e}return!1},t._expandSimpleHost=function(e){return e.replace(n,"$1"+this.default_domain+"$2")},t._makeHostList=function(){var t=this,e=l.map(this.cluster_hosts,function(e){return t._expandSimpleHost(e)}),n=[];this.override_proxy&&n.push(this.override_proxy),this.last_connected_host&&this.last_connected_host!==this.override_proxy&&this._verifyHostInGeoConfig(this.last_connected_host)&&n.push(this.last_connected_host),e=e.filter(function(e){return-1===o(e,n)}),this.host_list=n.concat(e),this.host_index=0},t.getHostList=function(){return this.host_list},t.getNextHost=function(){return this.host_index>=this.host_list.length?"":this.host_list[this.host_index++]},t.hasNext=function(){return this.host_index<this.host_list.length},t.rewind=function(){this.host_index=0},t.pushHostToLast=function(e){var t,n=this.getValidatedHost(e),i=o(n,this.host_list);-1!==i&&(t=this.host_list.splice(i,1),this.host_list=this.host_list.concat(t))},r.exports=e,i(e,"meshim_common_GeoAccess"),e}()}).call(e,s(1))},function(i,e,o){(function(t){i.exports=function(){function c(e,t){if(u(t)){if(t.length===e.length)return t.concat();throw new window.Error("Invalid weights array: length does not match")}if(h(t))return n(e,t);throw new window.Error("Invalid weights supplied")}function n(e,t,n){var i,o,r;if(!u(e))throw new TypeError(" arr is not an array");var s=Object(e),a=s.length>>>0;if(!h(t))throw new TypeError(t+" is not a function");for(2<arguments.length&&(i=n),o=new Array(a),r=0;r<a;){var c,l;r in s&&(c=s[r],l=t.call(i,c,r,s),o[r]=l),r++}return o}var u=o(19),h=o(8),e={shuffle:function(e,t){return t?function(e,t){var n,i,o,r,s,a=e.concat();for(t=c(e,t),e.length=0,s=0,n=t.length;n--;)s+=t[n];for(o=Math.random()*s,n=r=0;a.length;)r+=t[n],o<=r?(s-=t[n],i=a.splice(n,1)[0],t.splice(n,1),e.push(i),o=Math.random()*s,n=r=0):n++;return e}(e,t):function(e){for(var t,n,i=e.length;1<i;)t=Math.floor(i--*Math.random()),n=e[t],e[t]=e[i],e[i]=n;return e}(e)},random_index:function(e,t){if(!e||e.length<=0)return-1;if(!t)return Math.floor(Math.random()*e.length);var n,i=0;for(n=(t=c(e,t)).length;n--;)i+=t[n];var o=Math.random()*i,r=0,s=t.length;for(n=0;n<s-1;n++)if(o<=(r+=t[n]))return n;return n},map:n};return i.exports=e,t(e,"meshim_common_ArrayUtils"),e}()}).call(e,o(1))},function(o,e,t){(function(e){var t,n,i;o.exports=(t="[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+([a-z0-9][a-z0-9-]*[a-z0-9])",n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)",i={email:new RegExp("^"+t+"$","i"),ip_token:new RegExp("^"+n+"$"),ip:new RegExp("^(?:"+n+"\\.){3}"+n+"$"),tld:/^(AERO|ARPA|ASIA|A[CDEFGILMNOQRSTUWXZ]|BIZ|B[ABDEFGHIJMNORSTVWYZ]|CAT|COM|COOP|C[ACDFGHIKLMNORUVXYZ]|D[EJKMOZ]|EDU|E[CEGRSTU]|F[IJKMOR]|GOV|G[ABDEFGHILMNPQRSTUWY]|H[KMNRTU]|INFO|INT|I[DELMNOQRST]|JOBS|J[EMOP]|K[EGHIMNPRWYZ]|L[ABCIKRSTUVY]||MIL|MOBI|MUSEUM|M[ACDEGHKLMNOPQRSTUVWXYZ]|NAME|NET|N[ACEFGILOPRUZ]|ORG|OM|PRO|P[AEFGHKLMNRSTWY]|QA|R[EOSUW]|S[ABCDEGHIJKLMNORTUVYZ]|TEL|TRAVEL|T[CDFGHJKLMNOPRTVWZ]|U[AGKSYZ]|V[ACEGINU]|W[FS]|XN|Y[ET]|Z[AMW])$/i,search:{email:new RegExp(t,"ig"),email_lws:new RegExp("(^|\\s+)"+t,"ig"),hurl:/(^|\s+)(?:(?:https?|ftps?):\/\/)(?:\S+)/gi,url:/(^|\s+)(?:[\w-]+\.)+(\w{2,})(?::[0-9]+)?(?:\/\S*)?/g,phone_number:/(?:^|\s+)(?:(?:\+?\d{1,3}|\(\d{1,3}\))([-.\s])?)?\d{3,10}(?:([-.\s])\d{3,10})?/gi},file_upload:/uploaded.+\n.+https?:\/\/v2uploads\.zopim\.(com|io)\//i,escape:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},o.exports=i,e(i,"meshim_common_Regex"),i)}).call(e,t(1))},function(n,e,t){(function(e){var t;n.exports=((t={SECOND:1e3}).MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.WEEK=7*t.DAY,n.exports=t,e(t,"meshim_common_Time"),t)}).call(e,t(1))},function(c,e,l){(function(a){c.exports=function(){function t(){r++}function n(){r&&i.write({active$int:+new Date}),r=0,window.setTimeout(n,s)}var i,o=l(4),e={init:function(e){i=e.$("livechat").$("profile"),o.document.on("mousemove",t),o.window.on("click",t),o.window.on("scroll",t),o.window.on("keypress",t),n()}},r=1,s=2e4;return c.exports=e,a(e,"meshim_widget_controllers_Tracker"),e}()}).call(e,l(1))},function(a,e,c){(function(i){a.exports=function(){function o(){var t=this;return this.arr=[],this.validate=e.bind(this.validate,this),n.concat(["validateAndThrow","validateAndLog"]).forEach(function(e){t.validate[e]=t[e].bind(t)}),this.validate}var r=c(19),e=c(48),u=window.Error,t={any:function(i){return function(e){if(0===i.length)return!1;for(var t=0,n=i.length;t<n;t++)if(!(0,i[t])(e))return!1;return new u('Expect "'+e+'" to fulfill at least one condition')}},equal:function(t){return function(e){if(e!==t)return new u('expect "'+e+'" to equal "'+t+'"')}},obj:function(c,l){return function(e){if("object"!=typeof e||!e)return new u('Expect "'+e+'" to be an object');if(l&&l.requiredKeys)for(var t=0,n=l.requiredKeys.length;t<n;t++){var i=l.requiredKeys[t];if(!(i in e))return new u('Expect key "'+i+'" to be defined')}for(var o in e)if(e.hasOwnProperty(o)){var r,s=e[o],a=c[o];if(!a)continue;if(r=a(s))return r}}},type:function(t){return function(e){if(typeof e!==t)return new u('Expect "'+e+'" to have type "'+t+'"')}},ok:function(){return function(e){if(!e)return new u('Expect "'+e+'" to be truthty')}},chain:function(e){return e},regex:function(t){return function(e){if(t.lastIndex=0,!t.test(e))return new u('Expect "'+e+'" to match predefined format')}},array:function(){return function(e){if(!r(e))return new u('Expect "'+e+'" to be an Array')}},each:function(o){return function(e){var t;if(!r(e))return new u('Expect "'+e+'" to be an Array');for(var n=0,i=e.length;n<i;n++)if(t=o(e[n]))return t}}},n=Object.keys(t),s=o.prototype;return n.forEach(function(n){var i=t[n];o[n]=s[n]=function(){if(!(this instanceof o)){var e=new o;return e[n].apply(e,arguments)}var t=i.apply(null,arguments);return this.arr.push(t),this.validate}}),s.validate=function(e){for(var t,n=0,i=this.arr.length;n<i;n++)if(t=(0,this.arr[n])(e))return t},s.validateAndThrow=function(e,t){var n=this.validate(e);if(t=t?t+" - ":"",n)throw new u(t+n.message)},s.validateAndLog=function(e,t){var n,i,o=this.validate(e);if(t=t?t+" - ":"",o)return n=new u(t+o.message),(i=window.console).error?i.error(n):i.log&&i.log(n),o},a.exports=o,i(o,"meshim_widget_utils_Validator"),o}()}).call(e,c(1))},function(r,e,s){(function(t){r.exports=function(){function n(e){e&&"resume"==e.socket_status$string&&(o=setTimeout(n,1e3));var t=function(){var e=+new Date,t=c.getValue("status$string"),n=c.getValue("socket_status$string"),i=c.getValue("socket_resume_timestamp$int"),o=c.getValue("socket_open_timestamp$int"),r=c.getValue("client_reattached_timestamp$int");if(n||t){if("break"==n&&-1<l.indexOf(t))return"closed";var s=null===n||"reconnect"==n||"resume"==n&&1e3<=e-i,a=s&&"reattached"===t&&o<=r;return a?"connected":"connecting"}}();t&&i.update({friendly_connection_status$string:t})}var c,i,o,l=(s(23),["idle_disconnect","shutdown","error"]),e={init:function(e,t){c=e.$("connection"),i=t.$("tmp"),c.bindValue(n)},reset:function(){c.unbindValue(n),o=clearTimeout(o),c=i=null}};return r.exports=e,t(e,"meshim_widget_controllers_webSDKAPI_ConnectionStatusMonitor"),e}()}).call(e,s(1))}])});