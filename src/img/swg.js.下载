window._swg=function(au){var ai={wSettings:{},wLocaleStrings:{},wUserInfo:{},wServingAgents:[],isAgentJoined:!1,isShowFirstMessageHistory:!1,msgCtr:0,agentMsgCtr:0,isSentAgentFirstMessage:!1,deviceOrientation:null,agentID:null};function aw(){au("#live114958").css("display","none")}function ag(){return ai.wLocaleStrings[ai.wSettings.default_locale].constants}function ar(){au("#zen-samsung-web-widget-cont .w-header span").text(ag().header),au("#zen-samsung-web-widget-cont .banner-1").text(ag().banner_1),au("#zen-samsung-web-widget-cont .banner-2").text(ag().banner_2),au("#zen-samsung-web-widget-cont .cName").attr("placeholder",ag().f_name),au("#zen-samsung-web-widget-cont .cEmail").attr("placeholder",ag().f_email),au("#zen-samsung-web-widget-cont .cSubscribe").text(ag().f_subscribe),au("#zen-samsung-web-widget-cont .cAgreeUrlTxt1").text(ag().f_agree_1),au("#zen-samsung-web-widget-cont .cAgreeUrlTxt2").text(ag().f_agree_2),au("#zen-samsung-web-widget-cont .disclaimer").text(ag().disclaimer),au("#zen-samsung-web-widget-cont .cStart").val(ag().f_start),au("#zen-samsung-web-widget-cont #cAgreeUrl").attr("href",ag().agree_url),au("#zen-samsung-web-widget-cont #chatMessage").attr("placeholder",ag().c_msg),au("#zen-samsung-web-widget-cont #chatSend").val(ag().c_send),au("#zen-samsung-web-widget-cont .rating-title h4").text(ag().rate_banner),au("#zen-samsung-web-widget-cont .rating-title h5").text(ag().rate_banner_msg),au("#zen-samsung-web-widget-cont .rate-button").text(ag().rate_submit),au("#zen-samsung-web-widget-cont #satisfaction").text(ag().rate_satisfaction),au("#zen-samsung-web-widget-cont #recommendation").text(ag().rate_recommendation),au("#zen-samsung-web-widget-cont .not-likely").text(ag().rate_not_likely),au("#zen-samsung-web-widget-cont .likely").text(ag().rate_likely),au("#zen-samsung-web-widget-cont .satisfied").text(ag().rate_satisfied),au("#zen-samsung-web-widget-cont .not-satisfied").text(ag().rate_not_satisfied),au("#zen-samsung-web-widget-cont #w-rate-msg").attr("placeholder",ag().rate_feedback_msg),au("#zen-samsung-web-widget-cont #queue-position-txt").text(ag().queue_position)}function af(){at(),an()&&au("#zen-samsung-web-widget-cont .w-cont-button").show()}function ap(){L(),zChat&&zChat.isChatting()&&(zChat.endChat(function(a){Q(a)}),ai.wUserInfo={},ai.wServingAgents=[])}function an(){return 0<au("#zdchat").length}function aj(){at(),au("#zen-samsung-web-widget-cont .w-cont").css("display","block")}function at(){au("#zen-samsung-web-widget-cont .w-cont, #zen-samsung-web-widget-cont .w-contact-us-container, #zen-samsung-web-widget-cont .w-contact-container, #zen-samsung-web-widget-cont .w-cont-button, #zen-samsung-web-widget-cont .w-buttons, #zen-samsung-web-widget-cont .bot-cont, #zen-samsung-web-widget-cont .agent-cont, #zen-samsung-web-widget-cont .rating-container, #zen-samsung-web-widget-cont .w-chat, #zen-samsung-web-widget-cont .cRatingRes").hide(),au("#zen-samsung-web-widget-cont .w-buttons, #zen-samsung-web-widget-cont .w-contact-us-container, #zen-samsung-web-widget-cont .w-contact-container, #zen-samsung-web-widget-cont .w-chat-msgs-cont-child").empty()}function al(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}function ak(a){var b=a.msg.replace("\\n","<br>");"online"!=zChat.getDepartment(ai.wSettings.default_dept).status||ai.wUserInfo.email||au(".w-cont").is(":visible")||(at(),au("#zen-samsung-web-widget-cont .bot-cont").css("display","block"),au("#zen-samsung-web-widget-cont .bot-txt").html(b),au("#zen-samsung-web-widget-cont .opt-1").text(ag().bot_opt_1),au("#zen-samsung-web-widget-cont .opt-2").text(ag().bot_opt_2))}function ad(a){"online"!=zChat.getDepartment(ai.wSettings.default_dept).status||ai.wUserInfo.email||au(".w-cont").is(":visible")?W(a):(at(),au("#zen-samsung-web-widget-cont .agent-cont").css("display","block"),au("#zen-samsung-web-widget-cont .agent-txt").html(ag().agent_txt.replace("\\n","<br>")),au("#zen-samsung-web-widget-cont .agent-opt-1").text(ag().agent_opt_1),au("#zen-samsung-web-widget-cont .agent-opt-2").text(ag().agent_opt_2),localStorage.setItem("isAgentInitiatedChat",!0))}function ab(){if(ar(),aj(),au("#zen-samsung-web-widget-cont .w-banners, #zen-samsung-web-widget-cont .w-buttons").show(),au("#zen-samsung-web-widget-cont .tag").length<1){for(var a=0;a<ag().buttons.length;a++){av(ag().buttons[a],a)}}0<au("#zen-samsung-web-widget-cont #msgs-scroll").length&&Y()}function av(a,b){var c=au("#zen-samsung-web-widget-cont .w-button-item-cont .w-button-item").clone();c.appendTo("#zen-samsung-web-widget-cont .w-buttons").show(),a.desc&&(c.find(".item-txt").html(a.desc),c.find(".item-title").html(a.title),c.find(".item-icon").addClass(a.icon)),(b||0==b)&&c.attr("btn-idx",b)}function aq(a){var b=au("<div></div>").addClass("clearfix");a.after(b)}function ac(){aj(),ar(),au("#zen-samsung-web-widget-cont .w-contact-container, #zen-samsung-web-widget-cont .w-banners").show();var a=au("#zen-samsung-web-widget-cont .w-contact-form").clone();a.find(".cUstextarea").remove(),a.appendTo("#zen-samsung-web-widget-cont .w-contact-container").show(),au("#zen-samsung-web-widget-cont .banner-2").text(ag().banner_3),au("#zen-samsung-web-widget-cont .cStart").addClass("disabled"),au("#zen-samsung-web-widget-cont .cName, #zen-samsung-web-widget-cont .cEmail").val(""),au("#zen-samsung-web-widget-cont .cAgree")[0].checked=!1}function ao(a){var c=!0,b="."+au(a.currentTarget).parent().parent().parent()[0].classList[0];return au.each(au(b+" .tCheck"),function(d,f){(""==f.value.trim()||-1<f.className.indexOf("email")&&!al(f.value.trim()))&&(c=!1)}),au.each(au(b+" .cCheck"),function(d,f){f.checked||(c=!1)}),c?(au(b+" .start input").removeClass("disabled"),au("#zen-samsung-web-widget-cont .w-form-errors").text("")):au(b+" .start input").addClass("disabled"),c}function ah(){au("#zen-samsung-web-widget-cont .w-contact-container, #zen-samsung-web-widget-cont .w-banners").hide(),au("#zen-samsung-web-widget-cont .w-chat-msgs-cont-child").empty(),au("#zen-samsung-web-widget-cont .w-chat").show(),ar(),Z()}function Y(){var a=document.getElementById("msgs-scroll-parent");P()?setTimeout(function(){a.scrollTop=a.scrollHeight},100):a.scrollTop=a.scrollHeight}function ae(){var a=document.getElementById("rating-cont");P()?setTimeout(function(){a.scrollTop=a.scrollHeight},100):a.scrollTop=150}function aa(a){return a.replace(/((((http|https):\/\/)|www\.)([^\s]+))|([^\s]+)\.com(([^\s]+)|)/gi,function(b){return'<a href="'+b+'" class="attachment">'+b+"</a>"})}function W(d,g){g||(g=!1);var h=au("#zen-samsung-web-widget-cont .w-chat-msg-cont .w-chat-msg").clone();if(h.appendTo(".w-chat-msgs-cont-child").css("display","flex"),h.addClass("w-chat-msg-agent"),h.find(".w-chat-txt").addClass("msg-agent"),g){var b=d.attachment;-1!==b.mime_type.indexOf("image")?h.find(".w-chat-txt").html("<img src='"+b.url+"' class='attachment'/>"):h.find(".w-chat-txt").html("<a href='"+b.url+"'class='attachment'>"+b.name+"</a>")}else{var f=aa(d.msg);h.find(".w-chat-txt").html(f)}var c=h.find(".w-chat-avatar").detach();h.find(".w-chat-txt").before(c.outerHTML),aq(h),Y()}function ax(a){var b=au("<div></div>").addClass("memberjoin").text(a.display_name+" "+ag().c_agent_join);-1<a.nick.indexOf("agent")&&(ai.agentID=a.nick.split(":")[1],ai.isAgentJoined=!0,b.appendTo("#zen-samsung-web-widget-cont .w-chat-msgs-cont-child"),aq(b),Y(),ai.wServingAgents.push(a),au("#zen-samsung-web-widget-cont .file-upload").css("display","inline"))}function am(c,d,f){if(d||(d=!1),c.indexOf(ai.wSettings.order_str_format.substring(0,6))<0){var b=au("#zen-samsung-web-widget-cont .w-chat-msg-cont .w-chat-msg").clone();b.appendTo(".w-chat-msgs-cont-child").css("display","flex"),b.find(".w-chat-txt").addClass("msg-user"),d?-1!==f.mime_type.indexOf("image")?b.find(".w-chat-txt").html("<img src='"+c+"' class='attachment'/>"):b.find(".w-chat-txt").html("<a href='"+f.url+"'class='attachment'>"+f.name+"</a>"):(c=aa(c),b.find(".w-chat-txt").html(c)),aq(b),Y()}}function B(c,d,f){var b;c.match(/^(f|ht)tps?:\/\/|(^(f|ht)tps?:\/\/)/i)||(c="http://"+c),"object"!=typeof b?b=window.open(c,d,f):b.closed?b=window.open(c,d,f):b.location.href=c}function Z(){ai.isShowFirstMessageHistory=!0;var c=0,a=zChat.getChatLog();au("#zen-samsung-web-widget-cont .w-chat-msgs-cont-child").empty(),ai.isShowFirstMessageHistory&&(null===localStorage.getItem("isAcceptAgentMessage")&&("proactive"===localStorage.getItem("type")?W({msg:localStorage.getItem("proactive_msg")},!1):"reactive"===localStorage.getItem("type")&&W({msg:localStorage.getItem("reactive_msg")},!1)),ai.isShowFirstMessageHistory=!1),au.each(a,function(d,f){"chat.memberleave"==f.type&&"visitor"==f.nick&&(c=d)});for(var b=c+1;b<a.length;++b){if("chat.msg"===a[b].type){"visitor"===a[b].nick?am(a[b].msg):a[b].display_name.trim()!=ag().proc_chat_name&&"bot_proactive"!=a[b].display_name.trim()&&"bot_reactive"!=a[b].display_name.trim()&&a[b].msg.indexOf(ai.wSettings.order_str_format.substring(1,6))<0&&(K()?ad(a[b]):W(a[b]))}else{if("chat.file"===a[b].type){if("visitor"===a[b].nick){am(a[b].attachment.url,!0,a[b].attachment)}else{a[b].attachment.url;W(a[b],!0)}}}"chat.memberjoin"==a[b].type&&ax(a[b])}}function L(a){var b=a||zChat.getDepartment(ai.wSettings.default_dept).status,c=!0;return ai.wSettings.hide_when_offline&&"online"!=b&&!q()?(at(),aw(),c=!1):au("#zen-samsung-web-widget-cont .w-cont").is(":visible")||(af(),au("#live114958").css("display","block")),c}function q(){var d=zChat.getChatLog(),g=0,b=0,e=0,c=0,f=0;return au.each(d,function(a,h){"chat.memberjoin"===h.type&&"visitor"===h.nick&&(g+=1),"chat.memberjoin"===h.type&&-1<h.nick.indexOf("agent")&&(e+=1),"chat.memberleave"===h.type&&"visitor"===h.nick&&(b+=1),"chat.memberleave"===h.type&&-1<h.nick.indexOf("agent")&&(c+=1),"chat.msg"===h.type&&"visitor"===h.nick&&(f+=1)}),!!(zChat.isChatting()&&b<g&&c<e||zChat.isChatting()&&b<g&&0<f)}function K(){var c=zChat.getChatLog(),d=0,b=0;return au.each(c,function(a,f){"chat.msg"===f.type&&"visitor"===f.nick&&1,"chat.memberjoin"===f.type&&-1<f.nick.indexOf("agent")&&(b+=1),"chat.msg"===f.type&&"agent:trigger"!==f.nick&&-1<f.nick.indexOf("agent")&&(d+=1)}),!!(zChat.isChatting()&&0<b&&0<d)}function X(){q()&&!au("#zen-samsung-web-widget-cont .rating-container").is(":visible")?(ar(),au("#zen-samsung-web-widget-cont .w-chat").hide(),au("#zen-samsung-web-widget-cont .star").removeClass("starred").addClass("unstarred"),au("#zen-samsung-web-widget-cont #w-rate-msg").val(""),au("#zen-samsung-web-widget-cont .rate-button").addClass("disabled"),au("#zen-samsung-web-widget-cont .rating-container").show(),au(".box").removeClass("boxed").addClass("unboxed")):(af(),ap(),H()),au("#zen-samsung-web-widget-cont #chatMessage").val("")}function H(){j()&&window.close()}function Q(a){a&&(console.log(a),X(),zChat.reconnect())}function V(){zChat.on("connection_update",function(a){var b;(console.log("Chat connection "+a),"connected"===a)&&(zChat.setVisitorDefaultDepartment(ai.wSettings.default_dept,function(c){console.log("err",c)}),b=zChat.getVisitorInfo(),q()&&""!==b.email&&(ai.wUserInfo=b),L(),-1!==window.location.href.indexOf("newtab")?L()&&(null!==localStorage.getItem("isAcceptAgentMessage")?ac():ab()):q()&&""!=ai.wUserInfo.email?(null!==localStorage.getItem("isAcceptAgentMessage")?"true"===localStorage.getItem("isAcceptAgentMessage")&&(au("#zen-samsung-web-widget-cont .w-cont-button").click(),ah(),Z(),au("#zen-samsung-web-widget-cont .file-upload").css("display","inline")):(au("#zen-samsung-web-widget-cont .w-cont-button").click(),ah(),Z()),ai.isAgentJoined&&au("#zen-samsung-web-widget-cont .file-upload").css("display","inline")):au("#zen-samsung-web-widget-cont .file-upload").css("display","none"))}),zChat.on("account_status",function(a){L(a)}),zChat.on("agent_update",function(a){ai.agentName=a.display_name}),zChat.on("chat",function(b){console.log("event_data",b);var a=zChat.getQueuePosition();if(au("#queue-position #number").text(a),au(".queue-position-child").show(),"0"===au("#queue-position #number").text()&&au(".queue-position-child").hide(),"chat.msg"===b.type&&(b.msg=b.msg.replace(/</g,"&lt;").replace(/>/,"&gt;"),L()&&"agent:trigger"==b.nick&&b.display_name==ag().proc_chat_name?an()&&!q()&&ak(b):L()&&"agent:trigger"==b.nick&&"bot_proactive"==b.display_name?(localStorage.removeItem("proactive_msg"),localStorage.setItem("proactive_msg",b.msg)):L()&&"agent:trigger"==b.nick&&"bot_reactive"==b.display_name?(localStorage.removeItem("reactive_msg"),localStorage.setItem("reactive_msg",b.msg)):L()&&-1<b.nick.indexOf("agent")&&-1<b.msg.indexOf(ag().init_agent_chat)?an()&&!q()&&ak(b):"visitor"==b.nick?am(b.msg):("bot_proactive"!==b.display_name&&"bot_reactive"!==b.display_name&&b.display_name!==ag().proc_chat_name&&(K()?ad(b):W(b)),"agent:trigger"!==b.nick&&(localStorage.getItem("agentMsgCtr")?(ai.agentMsgCtr=parseInt(localStorage.getItem("agentMsgCtr")),ai.agentMsgCtr++,localStorage.setItem("agentMsgCtr",ai.agentMsgCtr)):localStorage.setItem("agentMsgCtr",1),localStorage.getItem("agentMsgCtr")&&1===parseInt(localStorage.getItem("agentMsgCtr"))&&null===localStorage.getItem("isSentAgentFirstMessage")&&null===localStorage.getItem("isAgentInitiatedChat")&&("function"==typeof fcTrack&&fcTrack("click","floating chat:agent first message",ai.agentID),localStorage.setItem("isSentAgentFirstMessage",!0))))),"chat.file"===b.type){b.attachment.url;-1!==b.nick.indexOf("agent")&&("agent:trigger"!==b.nick&&(localStorage.getItem("agentMsgCtr")?(ai.agentMsgCtr=parseInt(localStorage.getItem("agentMsgCtr")),ai.agentMsgCtr++):localStorage.setItem("agentMsgCtr",1)),localStorage.getItem("agentMsgCtr")&&1===parseInt(localStorage.getItem("agentMsgCtr"))&&null===localStorage.getItem("isSentAgentFirstMessage")&&("function"==typeof fcTrack&&fcTrack("click","floating chat:agent first message",ai.agentID),localStorage.setItem("isSentAgentFirstMessage",!0)),W(b,!0))}if("chat.memberjoin"==b.type&&ax(b),"chat.memberleave"==b.type&&(zChat.removeTag("购物咨询",function(d){Q(d)}),zChat.removeTag("售后服务",function(d){Q(d)}),localStorage.removeItem("isAgentInitiatedChat"),-1<b.nick.indexOf("agent")?(ai.wServingAgents=ai.wServingAgents.filter(function(d){return d.nick!==b.nick}),ai.wServingAgents.length<1&&X()):(af(),ap())),"typing"===b.type&&ai.isAgentJoined){if(b.typing){if(void 0!==ai.agentName){var c=ai.agentName+" "+ag().typing;au("#typing-state-child").text(c),au("#typing-state-child").show()}}else{au("#typing-state-child").hide()}}})}function j(){return !!(window.innerWidth<500||/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))}function P(){var c=window.navigator.userAgent,d=c.indexOf("MSIE ");if(0<d){return parseInt(c.substring(d+5,c.indexOf(".",d)),10)}if(0<c.indexOf("Trident/")){var f=c.indexOf("rv:");return parseInt(c.substring(f+3,c.indexOf(".",f)),10)}var b=c.indexOf("Edge/");return 0<b&&parseInt(c.substring(b+5,c.indexOf(".",b)),10)}function G(){var b;au("#zen-samsung-web-widget-cont .w-cont-button").click(function(){localStorage.setItem("type","reactive");var a=window.location.href;q()?j()&&-1===a.indexOf("newtab")?window.open(a+"#newtab","_blank"):(aj(),ah(),Z()):("function"==typeof fcTrack&&fcTrack("click","floating chat"),"online"==zChat.getAccountStatus()&&(ai.wSettings.default_dept&&""!=ai.wSettings.default_dept?"online"==zChat.getDepartment(ai.wSettings.default_dept).status&&(j()&&-1===a.indexOf("newtab")?window.open(a+"#newtab","_blank"):ab()):ab()))}),au("#zen-samsung-web-widget-cont .opt-1").click(function(){localStorage.setItem("type","proactive"),"function"==typeof fcTrack&&fcTrack("click","floating chat:yes");var a=zChat.getAccountStatus(),c=window.location.href;j()&&-1===c.indexOf("newtab")?(au("#zen-samsung-web-widget-cont .bot-cont").hide(),au("#zen-samsung-web-widget-cont .w-cont-button").show(),window.open(c+"#newtab","_blank")):(au("#zen-samsung-web-widget-cont .bot-cont").hide(),au("#zen-samsung-web-widget-cont .w-cont").show(),"online"==a&&(au("#zen-samsung-web-widget-cont .w-buttons").empty(),ab()))}),au("#zen-samsung-web-widget-cont .agent-opt-1").click(function(){localStorage.setItem("isAcceptAgentMessage",!0),localStorage.removeItem("type");var a=zChat.getAccountStatus(),c=window.location.href;j()&&-1===c.indexOf("newtab")?(au("#zen-samsung-web-widget-cont .agent-cont").hide(),au("#zen-samsung-web-widget-cont .w-cont-button").show(),window.open(c+"#newtab","_blank")):(au("#zen-samsung-web-widget-cont .agaent-cont").hide(),au("#zen-samsung-web-widget-cont .w-cont").show(),"online"==a&&(au("#zen-samsung-web-widget-cont .w-buttons").empty(),ac()))}),au("#zen-samsung-web-widget-cont .agent-opt-2").click(function(){af(),ap(),H(),au("#zen-samsung-web-widget-cont #chatMessage").val("")}),au(document).on("click",".w-minimize",function(a){ai.isShowFirstMessageHistory=!0,au("#zen-samsung-web-widget-cont #chatMessage").val(""),at(),au("#zen-samsung-web-widget-cont .w-cont-button").show()}),au(document).on("click",".w-close",function(a){ai.msgCtr=0,au(".satisfaction").removeClass("boxed").addClass("unboxed"),au(".recommendation").removeClass("boxed").addClass("unboxed"),"function"==typeof fcTrack&&fcTrack("click","floating chat:close"),q()?(ai.isSentAgentFirstMessage=!1,ai.agentMsgCtr=0,localStorage.removeItem("type"),localStorage.removeItem("msgCtr"),localStorage.removeItem("agentMsgCtr"),localStorage.removeItem("isSentAgentFirstMessage"),localStorage.removeItem("isAcceptAgentMessage"),localStorage.removeItem("isAgentInitiatedChat"),au("#zen-samsung-web-widget-cont #chatMessage").val(""),X()):(au("#zen-samsung-web-widget-cont #chatMessage").val(""),af(),H())}),au("#zen-samsung-web-widget-cont .opt-2").click(function(){"function"==typeof zdTrack&&zdTrack("button","floating chat:no"),"function"==typeof fcTrack&&fcTrack("click","floating chat:no"),X()}),au("#zen-samsung-web-widget-cont .close-bot").click(function(){"function"==typeof fcTrack&&fcTrack("click","floating chat:close"),X()}),au("#zen-samsung-web-widget-cont .close-agent-bot").click(function(){af(),ap(),H(),au("#zen-samsung-web-widget-cont #chatMessage").val("")}),au("#zen-samsung-web-widget-cont .w-contact-container").on("click",".cStart",function(a){var c;ao(a)?("function"==typeof zdTrack&&zdTrack("button","floating chat:start"),"function"==typeof fcTrack&&fcTrack("click","floating chat:start"),au("#zen-samsung-web-widget-cont .w-contact-container .cAgree").is(":checked")&&zChat.addTag("agreed_policy",function(d){Q(d)}),au("#zen-samsung-web-widget-cont .w-contact-container .cFSubscribe").is(":checked")&&zChat.addTag("subscribed",function(d){Q(d)}),ai.wSettings.default_dept&&""!=ai.wSettings.default_dept&&zChat.setVisitorDefaultDepartment(ai.wSettings.default_dept,function(d){Q(d)}),ah(),localStorage.getItem("isAcceptAgentMessage")?au("#zen-samsung-web-widget-cont .file-upload").css("display","inline"):au("#zen-samsung-web-widget-cont .file-upload").css("display"," none"),localStorage.getItem("agentMsgCtr")&&1===parseInt(localStorage.getItem("agentMsgCtr"))&&null===localStorage.getItem("isSentAgentFirstMessage")&&"true"===localStorage.getItem("isAgentInitiatedChat")&&("function"==typeof fcTrack&&fcTrack("click","floating chat:agent first message",ai.agentID),localStorage.setItem("isSentAgentFirstMessage",!0))):(c="."+au(a.currentTarget).parent().parent().parent()[0].classList[0],au.each(au(c+" .tCheck"),function(d,f){(""==f.value.trim()||-1<f.className.indexOf("email")&&!al(f.value.trim()))&&(au(f).addClass("tError"),f.placeholder="*"+f.placeholder.replace("*",""))}),au.each(au(c+" .cCheck"),function(d,f){if(!f.checked){var g=au(f).next().text();au(f).next().text("* "+g.replace("*","")).addClass("tError")}}))}),au("#zen-samsung-web-widget-cont .w-form-contact").on("keyup",".tCheck",function(a){ao(a)}),au("#zen-samsung-web-widget-cont .w-form-contact").on("click",".cCheck",function(a){ao(a)}),au("#zen-samsung-web-widget-cont .w-buttons").on("click",".w-button-item",function(){var a,c;a=au(this).attr("btn-idx"),c=ag().buttons[a],"0"==a?("function"==typeof fcTrack&&fcTrack("click","floating chat:product&promotions"),zChat.addTag("购物咨询",function(d){Q(d)}),zChat.removeTag("售后服务",function(d){Q(d)})):"1"==a?("function"==typeof fcTrack&&fcTrack("click","floating chat:service"),zChat.addTag("售后服务",function(d){Q(d)}),zChat.removeTag("购物咨询",function(d){Q(d)})):"function"==typeof fcTrack&&fcTrack("click","floating chat:orders"),c.url&&"none"!=c.url?B(c.url,"name_"+Math.random(),"scrollbars=1,resizable=1,width="+window.innerWidth+",height="+window.innerHeight+",left=0,top=0"):"none"!=c.url&&(au("#zen-samsung-web-widget-cont .w-buttons").empty(),ac())}),au("#zen-samsung-web-widget-cont .w-buttons").on("mouseout",".w-button-item",function(){au(this).attr("btn-idx");au("#zen-samsung-web-widget-cont .product").css("background-position-x",-71),au("#zen-samsung-web-widget-cont .order").css("background-position-x",-125),au("#zen-samsung-web-widget-cont .service").css("background-position-x",-177)}),au("#zen-samsung-web-widget-cont .w-buttons").on("mouseover",".w-button-item",function(){var a=au(this).attr("btn-idx");"0"==a&&au("#zen-samsung-web-widget-cont .product").css("background-position-x",-228).css("background-position-y",-10),"1"==a&&au("#zen-samsung-web-widget-cont .service").css("background-position-x",-335).css("background-position-y",-9),"2"==a&&au("#zen-samsung-web-widget-cont .order").css("background-position-x",-282).css("background-position-y",-10)}),au("#zen-samsung-web-widget-cont .rating-container").on("click",".star",function(a){au("#zen-samsung-web-widget-cont .star").removeClass("starred").addClass("unstarred");au(a.currentTarget);for(var c=au(a.currentTarget).attr("data-idx"),d=1;d<=c;d++){au("#zen-samsung-web-widget-cont .stars .s-"+d).removeClass("unstarred").addClass("starred")}}),au("#zen-samsung-web-widget-cont .rating-box").on("click",".satisfaction",function(a){au(".recommendation").hasClass("boxed")&&au("#zen-samsung-web-widget-cont .rate-button").removeClass("disabled")}),au("#zen-samsung-web-widget-cont .rating-box").on("click",".recommendation",function(a){au(".satisfaction").hasClass("boxed")&&au("#zen-samsung-web-widget-cont .rate-button").removeClass("disabled")}),au("#zen-samsung-web-widget-cont .rating-container").on("click",".satisfaction",function(a){au(".satisfaction").removeClass("boxed").addClass("unboxed"),au(this).removeClass("unboxed").addClass("boxed")}),au("#zen-samsung-web-widget-cont .rating-container").on("click",".recommendation",function(a){au(".recommendation").removeClass("boxed").addClass("unboxed"),au(this).removeClass("unboxed").addClass("boxed")}),au("#zen-samsung-web-widget-cont .rating-container").on("click",".rate-button",function(f){if(au(".recommendation").hasClass("boxed")&&au(".satisfaction").hasClass("boxed")){var h=au(".satisfaction.boxed").data("val");zChat.addTag("satisfaction_"+h,function(a){Q(a)});var k=au(".recommendation.boxed").data("val");zChat.addTag("recommendation_"+k,function(a){Q(a)});var c=6<=h?"good":"bad",g=au("#zen-samsung-web-widget-cont #w-rate-msg").val(),d="no comment";""!=g.trim()&&(zChat.sendChatComment(g,function(a){Q(a)}),d="comment"),zChat.sendChatRating(c,function(a){Q(a),au(".satisfaction").removeClass("boxed").addClass("unboxed"),au(".recommendation").removeClass("boxed").addClass("unboxed"),au("#zen-samsung-web-widget-cont .rating-container").hide(),au("#zen-samsung-web-widget-cont .cRatingRes").show().text(ag().rate_done_msg),"function"==typeof zdTrack&&zdTrack("button","floating chat:product&promotions_end"),"function"==typeof fcTrack&&fcTrack("submit","floating chat:product&promotions:survey:q1_"+h+":q2_"+k+":q3_"+d+"_submit",ai.agentID),ai.isSentAgentFirstMessage=!1,ai.agentMsgCtr=0,localStorage.removeItem("type"),localStorage.removeItem("msgCtr"),localStorage.removeItem("agentMsgCtr"),localStorage.removeItem("isSentAgentFirstMessage"),localStorage.removeItem("isAcceptAgentMessage"),localStorage.removeItem("isAgentInitiatedChat"),ap(),H()})}}),au("#zen-samsung-web-widget-cont #chatSend").click(function(){var a=au("#zen-samsung-web-widget-cont #chatMessage").val();""!=(a=a.replace(/</g,"&lt;").replace(/>/,"&gt;")).trim()&&(q()||(localStorage.getItem("msgCtr")?(ai.msgCtr=parseInt(localStorage.getItem("msgCtr")),ai.msgCtr++,localStorage.setItem("msgCtr",ai.msgCtr)):localStorage.setItem("msgCtr",1),localStorage.getItem("msgCtr")&&1===parseInt(localStorage.getItem("msgCtr"))&&"function"==typeof fcTrack&&fcTrack("click","floating chat:customer first message")),am(a),zChat.sendChatMsg(a,function(c){Q(c)}),au("#zen-samsung-web-widget-cont #chatMessage").val(""),"portrait"===ai.deviceOrientation&&j()?au("#zen-samsung-web-widget-cont #chatMessage").focus():"landscape"===ai.deviceOrientation&&j()&&au("#zen-samsung-web-widget-cont #chatMessage").blur(),Y())}),au("#zen-samsung-web-widget-cont #chatMessage").keyup(function(a){var c=au(this).val();c=c.replace(/</g,"&lt;").replace(/>/,"&gt;");var d=document.getElementById("chatMessage");d.scrollTop=d.scrollHeight,13==a.which&&""!=c.trim()?(a.preventDefault(),q()||(localStorage.getItem("msgCtr")?(ai.msgCtr=parseInt(localStorage.getItem("msgCtr")),ai.msgCtr++,localStorage.setItem("msgCtr",ai.msgCtr)):localStorage.setItem("msgCtr",1),localStorage.getItem("msgCtr")&&1===parseInt(localStorage.getItem("msgCtr"))&&"function"==typeof fcTrack&&fcTrack("click","floating chat:customer first message")),am(c),zChat.sendChatMsg(c,function(e){Q(e)}),au("#zen-samsung-web-widget-cont #chatMessage").val(""),"portrait"===ai.deviceOrientation&&j()?au("#zen-samsung-web-widget-cont #chatMessage").focus():"landscape"===ai.deviceOrientation&&j()&&au("#zen-samsung-web-widget-cont #chatMessage").blur(),Y()):(clearTimeout(b),zChat.sendTyping(!0),b=setTimeout(function(){zChat.sendTyping(!1)},500))}),au("#zen-samsung-web-widget-cont").on("click","a",function(a){a.preventDefault(),B(au(a.currentTarget).attr("href"),"name_"+Math.random(),"scrollbars=1,resizable=1,width="+window.innerWidth+",height="+window.innerHeight+",left=0,top=0")}),au("#zen-samsung-web-widget-cont #upload-attachment").change(function(){au(".w-loader").show();var a=document.getElementById("upload-attachment");if("files" in a){for(var c=0;c<a.files.length;c++){var d=a.files[c];zChat.sendFile(d,function(f,g){f?(au(".w-loader").hide(),au("#error-msg").show(),setTimeout(function(){au("#error-msg").hide()},3000),"EXCEED_SIZE_LIMIT"==f.message?au("#error-msg").text(ag().attachment_exceed_size_limit):"NOT_SUPPORTED"==f.message?au("#error-msg").text(ag().attachment_not_supported):"NOT_ALLOWED"==f.message?au("#error-msg").text(ag().attachment_not_allowed):"CONN_ERROR"==f.message?au("#error-msg").text(ag().attachment_conn_error):"INVALID_EXTENSION"==f.message?au("#error-msg").text(ag().attachment_invalid_extension):"INTERNAL_ERROR"==f.message?au("#error-msg").text(ag().attachment_internal_error):"UNKNOWN_ERROR"==f.message?au("#error-msg").text(ag().attachment_unknown_error):au("#error-msg").text(f.message),console.log("err",f.message)):(au(".w-loader").hide(),au("#error-msg").hide(),console.log("File name:",g.name),console.log("File URL:",g.url),am(g.url,!0,g))})}}else{au(".w-loader").hide()}}),au(document).on("click","#zen-samsung-web-widget-cont .attachment",function(){B(au(this).attr("src")||au(this).attr("href"),"name_"+Math.random(),"scrollbars=1,resizable=1,width="+window.innerWidth+",height="+window.innerHeight+",left=0,top=0")}),au(document).on("click","#open-zd-chat",function(a){au("#zen-samsung-web-widget-cont .w-cont-button").click()}),function(k){var g=0,m=0,u=0,h=0;document.getElementById("w-header")?document.getElementById("w-header").onmousedown=p:(k.onmousedown=p,d(k));function p(a){a=a||window.event,u=a.clientX,h=a.clientY,document.onmouseup=l,document.onmousemove=f,d(a)}function f(a){a=a||window.event,g=u-a.clientX,m=h-a.clientY,u=a.clientX,h=a.clientY,k.style.top=k.offsetTop-m+"px",k.style.left=k.offsetLeft-g+"px"}function l(){document.onmouseup=null,document.onmousemove=null}function d(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1}}(document.getElementById("w-cont")),au(window).resize(function(){Y(),ae(),console.log("height",window.innerHeight),console.log("width",window.innerWidth)}),au("#w-rate-msg").focus(function(){setTimeout(function(){ae()},500)}),au(window).on("orientationchange load",function(){ai.deviceOrientation=90===Math.abs(window.orientation)?"landscape":"portrait",Y()})}var J={init:function(){aw(),ai.wSettings=J.wSettings,ai.wLocaleStrings=J.wLocaleStrings,function(){try{zChat.getConnectionStatus()}catch(a){zChat.init({account_key:ai.wSettings.account_key})}}(),ar(),V()},sendOrderID:function(c,d){var f=zChat.getVisitorInfo(),b=ai.wSettings.order_str_format.replace("%o",c).replace("%p",d);f&&f.email&&""!=f.email&&zChat.sendChatMsg(b,function(a){Q(a)})},callSendOrderID:function(){ai.wSettings.order_el_selector&&0<au(ai.wSettings.order_el_selector).length&&this.sendOrderID(au(ai.wSettings.order_el_selector).val(),ai.wSettings.partner_id)},setUIEvents:function(){var a;(a=document.createElement("div")).setAttribute("id","zen-samsung-web-widget-cont"),document.body.appendChild(a),document.getElementById("zen-samsung-web-widget-cont").innerHTML+='<div class="w-cont-button" style="display:none"> <div class="w-cont-img"><span class="w-chat-now"></span></div></div><div class="w-cont" id="w-cont"> <div class="w-inner"> <div class="w-header" id="w-header"> <div class="w-controls no-select"> <div class="w-minimize"></div><div class="w-close"></div></div><span></span> </div><div class="w-banners"> <div class="w-banner banner-1"></div><div class="w-banner banner-2"></div></div><div class="w-buttons"></div><div class="w-chat"> <div id="queue-position"><span id="queue-position-txt" class="queue-position-child"></span> <span id="number" class="queue-position-child"></span></div><div id="msgs-scroll-parent"> <table id="msgs-scroll" class="w-chat-msgs-cont"> <tbody> <tr id="msgs-scroll-child"> <td class="w-chat-msgs-cont-child"></td></tr></tbody> </table> </div><div id="error-msg"></div><div id="typing-state"><span id="typing-state-child"></span></div><div class="w-loader"><img src="https://theme.zdassets.com/theme_assets/2473353/7cf5f22d10e2f63d855bf3f2c49a65d4d05ffa0d.gif"/></div><div class="cControls"> <div class="chatTxtArea"> <textarea placeholder="placeholder text" class="cUsMessage tCheck" id="chatMessage"></textarea> <div class="file-upload" style="display:none"> <label for="upload-attachment"> <div class="file-upload-attachment"></div></label> <input id="upload-attachment" type="file"> </div></div><div name="chatSend" id="chatSend"><img src="https://theme.zdassets.com/theme_assets/2473353/b4725b1c88ffa952286cac4f9387c5cf3091f92b.png"></div></div></div><div class="cRatingRes"></div><div class="rating-container" id="rating-cont"> <div class="rating-title"> <h4></h4> <h5></h5> </div><div class="star rating-content"> <ol class="rating-questions"> <li id="satisfaction"></li><div class="rating-label"> <div class="not-satisfied"></div><div class="satisfied"></div></div><ul class="rating-box"> <li> <div class="box unboxed satisfaction" data-val="1">1</div><li> <div class="box unboxed satisfaction" data-val="2">2</div><li> <div class="box unboxed satisfaction" data-val="3">3</div><li> <div class="box unboxed satisfaction" data-val="4">4</div><li> <div class="box unboxed satisfaction" data-val="5">5</div><li> <div class="box unboxed satisfaction" data-val="6">6</div><li> <div class="box unboxed satisfaction" data-val="7">7</div><li> <div class="box unboxed satisfaction" data-val="8">8</div><li> <div class="box unboxed satisfaction" data-val="9">9</div><li> <div class="box unboxed satisfaction" data-val="10">10</div></ul> <li id="recommendation"></li><div class="rating-label"> <div class="not-likely"></div><div class="likely"></div></div><ul class="rating-box second-rating-box"> <li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="0">0</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="1">1</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="2">2</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="3">3</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="4">4</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="5">5</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="6">6</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="7">7</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="8">8</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="9">9</div><li class="rating-box-rec"> <div class="box unboxed recommendation" data-val="10">10</div></ul> <div class="rate-msg"> <textarea type="text" id="w-rate-msg" placeholder="Please leave your comments."></textarea> </div></ol> <div class="rate"> <div class="rate-button disabled"></div></div></div></div><div class="w-contact-form"> <div class="w-cform-input agree"><input type="checkbox" class="cAgree cCheck"/><span class="cAgreeUrl cAgreeUrlTxt1"></span> <a href="" id="cAgreeUrl" class="cAgreeUrl cAgreeUrlTxt2" target="_blank"></a></div><div class="w-cform-input subscribe"><input type="checkbox" class="cFSubscribe"/><span class="cSubscribe"></span></div><div class="w-cform-input bordered cUstextarea email"> <div class="w-cform-icon"></div><input type="text" class="cUsMessage tCheck"/> </div><div class="w-form-errors"></div><div class="w-cform-input disclaimer"></div><div class="w-cform-input start"><input type="button" value="START" class="cStart disabled"/></div></div><div class="w-contact-container w-form-contact"></div><div class="w-contact-us-container w-form-contact"></div></div></div><div class="bot-cont"> <div class="close-bot"></div><div class="bot-txt"></div><div class="bot-options"> <div class="options opt-1"></div><div class="options opt-2"></div></div></div><div class="agent-cont"><div class="close-agent-bot"></div> <div class="agent-txt"></div><div class="agent-options"> <div class="options agent-opt-1"></div><div class="options agent-opt-2"></div></div></div><div class="w-button-item-cont"> <div class="w-button-item"> <div class="item-icon"></div><div class="item-string"> <div class="item-title"></div><div class="item-txt"></div></div></div></div><div class="w-chat-msg-cont"> <div class="w-chat-msg"> <div class="w-chat-txt"></div><div class="w-chat-avatar"> <div class="avatar"></div></div></div></div>',au("#zen-samsung-web-widget-cont .w-chat-now").text(ag().chat_now),G()}};return J}(jQuery),jQuery(window).ready(function(){_swg.init(),_swg.setUIEvents()});